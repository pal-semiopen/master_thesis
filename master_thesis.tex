\documentclass[10pt, dvipdfmx]{article}
\usepackage[utf8]{inputenc}

\usepackage{color}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{amsmath,amssymb,amscd,amsthm}
\usepackage{amsfonts}
\usepackage{comment}
\usepackage{mathrsfs} %\mathscrの使用
\usepackage[dvipdfmx]{graphicx} %\includegraphics[options]{name}の使用
\usepackage{here} %graphicsの[H]の使用
\usepackage{enumerate} %enumerate環境の使用
\usepackage{fancyhdr} %ヘッダーの使用
\geometry{a4paper}

%\usepackage[frenchb]{babel}

\usepackage{graphicx}  % \rotateboxの使用
%\usepackage[all]{xy} % \xymatrixの使用、図式用
\usepackage{tikz-cd} % tikzcd環境の使用、図式用
\usepackage{quiver} %quiver.appの使用
\usepackage{adjustbox} %\adjustboxの使用、図式サイズの調整用

\usepackage[dvipdfmx]{hyperref} %ハイパーリンクの使用
\usepackage{pxjahyper} %hyperrefの補助
\hypersetup{%
 setpagesize=false,%
 %bookmarks=true,%
 %bookmarksdepth=tocdepth,%
 bookmarksnumbered=true,%
 colorlinks=true, %リンクを色文字にするかどうか。しないときは色枠線で囲う
 linkcolor={[rgb]{0.1,0.1,0.3}}, %目次などの通常のリンクの色。
 urlcolor={[rgb]{0,0.8,0.8}}, %参考文献などの外部リンクの色。
 pdftitle={},%
 pdfsubject={},%
 pdfauthor={},%
 pdfkeywords={}}


\graphicspath{{graphics/}}

\newcommand{\hang}[1]{\noindent \settowidth{\hangindent}{#1}#1}

\newcommand{\card}[1]{ |#1| }
%\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
%\newcommand{\R}{\mathbb{R}}
\newcommand{\powerset}[1]{\mathfrak{P}(#1)}
\renewcommand{\P}{\mathcal{P}}
\renewcommand{\Im}{\mathrm{Im}}
\newcommand{\ideal}{\mathrm{Ideal}}
\newcommand{\open}{\mathrm{open}}
\newcommand{\closed}{\mathrm{closed}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\End}{\mathrm{End}}
\newcommand{\Fct}{\mathrm{Fct}}
\newcommand{\colim}{\mathrm{colim}}
\newcommand{\for}{\mathrm{for} \ }
\newcommand{\maru}[1]{\textcircled{\scriptsize #1}}
\newcommand{\norm}[1]{\|#1\|}
\newcommand{\abs}[1]{ |#1| }
\newcommand{\inp}[2]{\langle#1,#2\rangle}
\newcommand{\conj}[1]{\overline{#1}\ }
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\gen}[1]{\langle#1\rangle}
\renewcommand{\phi}{\varphi}
\renewcommand{\epsilon}{\varepsilon}
\renewcommand{\O}{\mathcal{O}}
\newcommand{\U}{\mathcal{U}}
\newcommand{\V}{\mathcal{V}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\C}{\mathcal{C}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\E}{\mathcal{E}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\N}{\mathcal{N}}
\newcommand{\R}{\mathcal{R}}
\newcommand{\Lam}{\Lambda}
\newcommand{\LAM}{\Lam}
\newcommand{\lam}{\lambda}
\renewcommand{\l}{\lambda}
\newcommand{\m}{\mu}
\newcommand{\n}{\nu}
\newcommand{\y}{\eta}
\newcommand{\e}{\epsilon}
\renewcommand{\d}{\delta}
\newcommand{\closure}[1]{\overline{#1}}
\newcommand{\0}{\emptyset}
\renewcommand{\o}{\circ} %射の合成(逆)
\newcommand{\comp}{\triangleright} %射の合成(順)
\newcommand{\app}{\blacktriangleright\ } %写像への代入(順)
\newcommand{\subgroup}{\leq}
\newcommand{\acts}{\curvearrowright}
\newcommand{\tensor}{\otimes}
\renewcommand{\bar}[1]{\overline{#1}}
\newcommand{\Cat}{\mathbf{Cat}}
\newcommand{\Set}{\mathrm{Set}}
\newcommand{\Mon}{\mathrm{Mon}}
\newcommand{\Gp}{\mathrm{Gp}}
\newcommand{\Ab}{\mathrm{Ab}}
%\renewcommand{\Vec}{\mathrm{Vec}}
\newcommand{\Mod}{\mathrm{Mod}}
\newcommand{\Ring}{\mathrm{Ring}}
\newcommand{\Alg}{\mathrm{Alg}}
%\newcommand{\}{\mathrm{}}
%\renewcommand{\/}{\backslash}
\renewcommand{\-}{\mathchar`-}
\newcommand{\BOOL}{\mathrm{BOOL}}
\newcommand{\Top}{\mathrm{Top}}
\newcommand{\STONE}{\mathrm{STONE}}
\newcommand{\Forget}{\mathrm{Forget}}
\newcommand{\Free}{\mathrm{Free}}

\newcommand{\Eta}{\mathit{H}}
\newcommand{\Epsilon}{\mathit{E}}
\newcommand{\rmin}{{\ \mathrm{in} \ }}




\newcounter{mynum}
\renewcommand{\themynum}{\arabic{mynum}.}
\newcommand{\myitem}{\refstepcounter{mynum}\mbox{\themynum}}





\newcommand{\map}[5]{
\[
\begin{tikzcd}[ampersand replacement=\&]
#1 \&[-1.05cm]: \&[-1.03cm] #2 \arrow[r] \arrow[d,phantom, "\ni", sloped]  \& #3\arrow[d,phantom, "\ni", sloped] \\[-0.4cm]
      \&            \&              #4 \arrow[r,mapsto]                                            \& #5
\end{tikzcd}
\]
}

\newcommand{\doublemap}[9]{
\[
\begin{tikzcd}[row sep=0.4cm, ampersand replacement=\&]
#1\&[-1cm] : \&[-1cm] #2 \arrow[r] \arrow[d,phantom, "\ni", sloped] \& #3  \arrow[d,phantom, "\ni", sloped] \\
      \& \&#4 \arrow[r,mapsto] \& #5\&[-1.06cm] :\&[-1.04cm] #6 \arrow[d,phantom, "\ni", sloped]\arrow[r] \& #7 \arrow[d,phantom, "\ni", sloped]\\
       \& \&                        \&       \&       \&         #8\arrow[r,mapsto] \&  #9
\end{tikzcd}
\]
}



\newcommand{\fct}[9]{	%covariant functor

\[
\begin{tikzcd}[column sep=1.5cm, ampersand replacement=\&]
{#1}	\&[-1.05cm]:	\&[-1.03cm] {#2} \arrow[r] \arrow[d,phantom, "\ni", sloped]	\& {#3}\arrow[d,phantom, "\ni", sloped] \\[-0.4cm]
	\&			\&			{#4}\arrow[r,mapsto]\arrow[d,"{#5}"{name=f}]	\& {#7}\arrow[d,"{#8}"'{name=g},shift left=0.5ex]\\
	\&			\&			{#6}\arrow[r,mapsto]						\& {#9}\arrow[mapsto,from=f,to=g]
\end{tikzcd}
\]
}











% varLambdaの活用法考えよう








\title{関連圏からのデカルト圏の普遍的再構成}
\author{箕浦 晴弥}
%\date{2019/10/10}

%\setcounter{tocdepth}{4}


%\renewcommand{\thesection}{\S \ \arabic{section}}　　外法だったのでクビ

%thesectionいじりの代わりに\sectionをいじるパッケージを利用
\usepackage{titlesec}
\titleformat{\section}[block]{\normalfont\bfseries\Large}{§\,\thesection.}{0.5em}{}
\titleformat{\subsection}[block]{\normalfont\bfseries\large}{§\,\thesubsection.}{0.5em}{}






%%ここからこの論文中でのみ使うコマンド
\newcommand{\SMC}{対称モノイド圏}
\newcommand{\bSMC}{\mathbf{SMC}}
\newcommand{\DMC}{\RC} %Diagonaled Monoidal Category}
\newcommand{\RC}{{関連圏}}
\newcommand{\subRC}{{関連部分圏}}
\newcommand{\DMCs}{\RCs} %Diagonaled Monoidal Categories}
\newcommand{\RCs}{{関連圏}}
\newcommand{\bDMC}{\mathbf{DMC}}
\newcommand{\Rf}{{関連函手}}
\newcommand{\AC}{{アフィン圏}}
\newcommand{\CC}{デカルト圏}
\newcommand{\CCs}{デカルト圏}
\newcommand{\bCC}{\mathbf{CC}}
\newcommand{\calLambda}{\mathcal{B}}
\newcommand{\mono}{{\mathrm{mono}}}
%\newcommand{   }{}
%\newcommand{   }{}
\newcommand{\topic}[1]{\textcolor{black}{#1}}
\renewcommand{\simeq}{\cong}
\newcommand{\Ob}[1]{\mathrm{Ob}(#1)}
\newcommand{\compose}[2]{#1 \comp #2}
\renewcommand{\baselinestretch}{1.4}
%%ここまでこの論文中でのみ使うコマンド


%ココカラamsthmの設定
\newcommand{\definitionword}{定義}
\newcommand{\propositionword}{命題}
\newcommand{\theoremword}{定理}
\newcommand{\lemmmaword}{補題}
\newcommand{\corollaryword}{系}
\newcommand{\exampleword}{例}

\newtheoremstyle{jpstyle}%   % スタイル名
    {9pt}%                   % 上部スペース
    {9pt}%                   % 下部スペース
    {\normalfont}%                       % 本文フォント
    {0pt}%                       % 1行目のインデント量
    {\bfseries}%              % 見出しフォント
    {\\}%                     % 見出し後の句読点
    {\parindent}%               % 見出し後のスペース
    {\thmname{#1}\thmnumber{#2}：\thmnote{#3}}%                      % 見出しの書式(後述)

\theoremstyle{jpstyle}
\newtheorem{definition}{\definitionword}[section]
\newtheorem{proposition}[definition]{\propositionword}
\newtheorem{theorem}[definition]{\theoremword}
\newtheorem{lemma}[definition]{\lemmmaword}
\newtheorem{corollary}[definition]{\corollaryword}
\newtheorem{example}[definition]{\exampleword}

\newtheorem{definitionsub}{\definitionword}[subsection]
\newtheorem{propositionsub}[definitionsub]{\propositionword}
\newtheorem{theoremsub}[definitionsub]{\theoremword}
\newtheorem{lemmasub}[definitionsub]{\lemmmaword}
\newtheorem{corollarysub}[definitionsub]{\corollaryword}
\newtheorem{examplesub}[definitionsub]{\exampleword}

\newcommand{\refdef}[1]{\definitionword \ref{#1}}
\newcommand{\refprop}[1]{\propositionword \ref{#1}}
\newcommand{\refthm}[1]{\theoremword \ref{#1}}
\newcommand{\reflem}[1]{\lemmmaword \ref{#1}}
\newcommand{\refcor}[1]{\corollaryword \ref{#1}}
\newcommand{\refex}[1]{\exampleword \ref{#1}}
%ココマデamsthmの設定


%ココカラヘッダとフッタの設定
\pagestyle{fancy}
\lhead{ver:\ {\number\year}/{\number\month}/{\number\day}/({\number\time}min./1440min.)}
\chead{}
\rhead{\S\thesection}
\lfoot{--\ --\ --\ --}
\cfoot{\thepage}
\rfoot{--\ --\ --\ --}
%ココマデヘッダとフッタの設定


\begin{document}

%ココカラタイトル
{
\ \\
{\LARGE \ \ \ \   2023年度}\\
\ \\
\ \\
\ \\
\ \\
{\huge 修士論文題目}
\ \\
\ \\
\ \\
\centerline{\huge \underline{関連圏からのデカルト圏の普遍的再構成}}
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
\ \\
{\LARGE
    学生証番号\ \ \ \underline{45-216034}\\
    \ \\
    フリガナ\ \ \ \ ミノウラハルヤ\\
    \ \\
    氏　　名\ \ \ \ \ \  \underline{箕浦　晴弥}
}

\thispagestyle{empty}
}
%ココマデタイトル
\newpage


%\maketitle
\tableofcontents
\newpage

\begin{comment}
\section{notation}
arbitrary relevance category $\R$\\
arbitrary cartesian category $\C, \D$\\
object $X,Y$ of $\R$\\
morphism $f$ of $\R$\\
object $X,Y$ of $\Lambda(\R)$\\
morphism $[A,f], [B,g]$ of $\Lambda(\R)$\\
\newpage
\end{comment}





\section{Introduction}




\topic{対称モノイド圏論は、ホモトピー論を出自としてMacLaneにより創始された(\cite{maclane1963natural})。}
モノイド圏論では、圏に函手的なモノイド演算が乗った構造であるモノイド圏を扱う。
対称モノイド圏論は、その中でも特にモノイド演算が(同型を除いて)可換な対称モノイド圏を扱う分野である。
これは直積でない「積」と呼ばれるもの、例えばテンソル積やスマッシュ積などの一般化である。

\topic{対称モノイド圏論は、圏論の中では比較的弱い構造を扱う理論である。}
他の圏論の多くの分野、例えばトポス理論やアーベル圏論では、
    全ての有限直積があること、即ちデカルト圏であることを前提として、その上にさらに構造を加えていく。
対照的に、対称モノイド圏論においてはデカルト圏が最も強い構造である：
    対称モノイド圏に構造を付加してデカルト圏より強い構造になるならば、それは単にデカルト圏の理論で扱えばよい。
即ち、対称モノイド圏論とは「対称モノイド圏とデカルト圏の中間構造たちを調べる分野」であると言うことができる。

\topic{対称モノイド圏とデカルト圏の中間構造として、関連圏(relevant category)・アフィン圏(affine category)(\cite{JACOBS199473}, \cite{Pet02})が挙げられる。}
そもそもデカルト圏とはどのような構造であったかというと、
    対称モノイド圏$\C$と自然同型$\phi_{X,Y}:\C(-,X)\times\C(-,Y)\simeq\C(-,X\tensor Y)$であって
    モノイド構造と整合的なものの組$(\C,\phi)$である。
この普遍性を用いた定義は、次のような定義と等価であることが知られている(\cite{Fox76})。
すなわち、デカルト圏とは対称モノイド圏$\C$及び２つの自然変換「複製」$\Delta_X:X\to X\tensor X$と「削除」$!_X:X\to I$
    の組$(\C,\Delta,!)$であって整合性の条件を満たすものである。
ここで$I$は$\C$の単位対象である。
この定義を見ると、デカルト圏とは対称モノイド圏に「複製」射と「削除」射を付加した構造と見なせる。
すると中間構造として、対称モノイド圏に「複製」のみ、あるいは「削除」のみを付加した構造が考えられる。
これがそれぞれ関連圏・アフィン圏である。
関連圏には例えば集合と単射の圏 $\Set^{\mono}$ や点付き集合の圏$\Set_*$などがある。
アフィン圏には例えば凸空間の圏 $\mathrm{Conv}$(\cite{JacobsConvex}) や混合量子状態の圏$\mathrm{CPTP}$(\cite{HS19})などがある。



%\topic{\RC や\AC は、対称モノイド圏と\CC のよい中間構造と思える。}
%具体的には、対称モノイド圏に「複製」を追加すれば\RC に、「削除」を追加すれば\AC になるし、
%\CC は\RC に「削除」を追加したものと見なせ、また\AC に「複製」を追加したものとも見なせる。
\topic{これら中間構造を調べることは対称モノイド圏と\CC の関係性を調べるのに有用である。}
例えば、与えられた対称モノイド圏 $\M$から普遍的な\CC $CC[\M]$を構成する問題(直積を付加する問題)は、
与えられた対称モノイド圏 $\M$から普遍的な\RC $RC[\M]$を構成する問題(複製を付加する問題)と与えられた\RC $\R$から普遍的な\CC $CC[\R]$を構成する問題(削除を付加する問題)とに分割できる。
実際\AC については、アフィン論理への関心も相まって多くの研究がある(\cite{JacobsConvex}, \cite{HS19})。
しかし、\RC についてはまだ調べられてこなかった。


% https://q.uiver.app/?q=WzAsNCxbMywwLCJcXHRleHR7XFxTTUMgfSJdLFszLDIsIlxcdGV4dHtcXFJDIH0iXSxbMCwyLCJcXHRleHR7XFxDQ30iXSxbMCwwLCJcXHRleHR7XFxBQyB9Il0sWzEsMCwiXFx0ZXh0e+WvvuinkuWwhOOCkuW/mOWNtH0iLDJdLFsyLDEsIlxcdGV4dHvntYLlr77osaHjgpLlv5jljbR9IiwyXSxbMiwzLCJcXHRleHR75a++6KeS5bCE44KS5b+Y5Y20fSJdLFszLDAsIlxcdGV4dHvntYLlr77osaHjgpLlv5jljbR9IiwyXSxbMSwyLCJcXExhbWJkYSIsMix7ImN1cnZlIjozfV0sWzAsMywiTCIsMix7ImN1cnZlIjozfV0sWzgsNSwiIiwxLHsibGV2ZWwiOjEsInN0eWxlIjp7Im5hbWUiOiJhZGp1bmN0aW9uIn19XSxbOSw3LCIiLDIseyJsZXZlbCI6MSwic3R5bGUiOnsibmFtZSI6ImFkanVuY3Rpb24ifX1dXQ==
\[\begin{tikzcd}
	{\text{\AC }} &&& {\text{\SMC }} \\
	\\
	{\text{\CC}} &&& {\text{\RC }}\\
	\arrow["{\text{複製を忘却}}"', from=3-4, to=1-4]
	\arrow[""{name=0, anchor=center, inner sep=0}, "{\text{削除を忘却}}"', from=3-1, to=3-4]
	\arrow["{\text{複製を忘却}}", from=3-1, to=1-1]
	\arrow[""{name=1, anchor=center, inner sep=0}, "{\text{削除を忘却}}"', from=1-1, to=1-4]
	\arrow[""{name=2, anchor=center, inner sep=0}, "\Lambda"', curve={height=18pt}, from=3-4, to=3-1]
	\arrow[""{name=3, anchor=center, inner sep=0}, "L"', curve={height=18pt}, from=1-4, to=1-1]
	\arrow["\dashv"{anchor=center, rotate=-90}, draw=none, from=2, to=0]
	\arrow["\dashv"{anchor=center, rotate=-92}, draw=none, from=3, to=1]
\end{tikzcd}\]

\topic{本論文では、\RC について調べる足掛かりとして、\CC との関係を調べることを試みた。}
具体的には、\RC がしばしば\CC の\subRC として構成されることに着目し、逆に与えられた\RC がどのような\CC のよい\subRC となるのかを調べた。
結果、次の事実を得た：任意の\RC に対し、それをよい\subRC に持つ\CC は存在すれば一意である。
さらに全ての\RC に対して、そのような\CC が存在するかどうか、また存在すればそれがどのような\CC であるかを計算する方法を与えた。


\topic{本論文で主に扱うのは、与えられた\RC からそれをよい\subRC に持ちうる\CC を構成する操作$\Lambda$である。}
操作$\Lambda$は、あらゆる\RC $\R$に対して
    \CC $\Lambda(\R)$ 及び函手$\Eta_{\R}:\R \to \Lambda(\R)$の組$(\Lambda(\R), \Eta_{\R})$を１つずつ返すものである。
この$\Eta_{\R}$は必ずしも単射的(即ち忠実かつ対象上本質的に単射)であるとは限らないが、
    もしも$\R$が何か\CC $\C$のよい\subRC として構成されているときには、必ず$\Lambda(\R)\simeq \C$である。
特に、$\R$をよい\subRC に持つ\CC $\C$は同型を除いて一意的であることが従う。

\topic{さらにこの操作$\Lambda$は、\RC から\CC を構成する方法として普遍的である。}
全ての\CC は自然な方法で\RC と見なせるが、この忘却操作に対して$\Lambda$は左随伴である。%また、この随伴はただの随伴ではなくreflectionである。\CC に対しては$\Lambda$を行っても不変であり、即ちこの忘却操作と$\Lambda$を連続して適用しても\CC たちの成す2-圏上の恒等函手に同型である。つまり、\CC の2-圏は\RC の2-圏のreflective subcategoryである。
\RC から\CC を得る左普遍的な方法は、\cite{Lambek72}に見られるような自由構成を用いても得られるため、
    左随伴があることそのものは驚くべきことではない。
しかし$\Lambda$は非常に具体的かつ有限的に定義されるため、
    $\Lambda$は\RC から\CC を得る左普遍的な方法の計算結果を与えていると言える。

\topic{$\Lambda\-$constructionの着想の説明をする。}
\RC から\CC を作る方法は「削除を追加する」ものであるはずだから、\SMC から\AC を作る方法に一致するか少なくとも類似するはずである。後者は実際に知られていて、
\topic{対称モノイド圏から、\AC を作る(左)普遍的な構成が
\cite{HT12}の系として得られている(\cite{HT12}, \cite{HS19})。}
この普遍的な構成、L-construction(named by \cite{HS19})は、与えられた対称モノイド圏の射を余分に増やしたのち適切な同値関係で割る構成である。
特にモノイド単位対象への射を全て同一視するような同値関係で割るので、モノイド単位対象が終対象になる。標語的に言えば、L-constructionは「対称モノイド圏の単位対象を終対象にする構成」である。
%\topic{relevance categoryに施せば「複製と終対象を備えた圏」即ちcartesian categoryになると期待される。}
\topic{L-constructionは\RC に施しても一般には\CC にはならない}。
例えば$\Set^{\mono}$は素朴な方法で\RC の構造を持ち
、$\Set^{\mono}$にL-constructionを施して得られる圏$L(\Set^{\mono})$は$\Set$と非同型であるが、
$\Lambda(\Set^{\mono})\simeq\Set$である。
$L\-$construction及び$\Lambda\-$constructionの普遍性を踏まえれば、$L(\Set^{\mono})$は\CC ではないことがわかる。
$L(\Set^{\mono})$はTennent category(\cite{tennent1990semantical})と等しい(\cite{HT12},Thm4.4)ことが分かっている。

構成Lは\SMC のモノイド単位対象を終対象にするものであったが、上に述べたようにテンソル積を直積にするものではなかった。
これに対して 構成$\Lambda$は、\RC を受け取り、そのモノイド単位対象を終対象に、テンソル積を直積にするものである。

\topic{\RC から左普遍的な \CC を得る方法は複数考えられるが、他の方法では今回のように実際の挙動を計算することは難しい。}
\RC や\CC は等式的な形式体系を用いた定義をされていると考えられるから、
    例えば\cite{Lambek72}のように必要な対象と射をすべて追加したのちに適切な同値関係で割るという構成を考えることができる。
しかしこの方法では対象や射の形は非常に複雑になるため、具体例での振る舞いを計算することは難しい。
またこの方法で本論文と同様の結果を示そうとした場合、結局構成Λの普遍性を証明するのと同様の補題を要することになるように思われる。
他にも、随伴函手定理を用いて\RC から\CC への（忘却に対する）左随伴函手を構成するという方法が考えられるが、これにもまた困難がある。
今回は圏から圏を作る構成を与えており、それを一般的な理論で得るためには2-圏論的な随伴函手定理が必要である。
しかし2-圏論で強い随伴に関する主張をする文献は調べる限り未だなく、現状この普遍的な構成を得ることはできない。
一方で、2-圏的議論を避けるためにstrictなデカルト圏とstrictなモノイド函手から成る1-圏について議論しようとすると、
    この圏は一般には等化子を持たず、（1-圏論の）随伴函手定理の適用外となる。
このように、\RC から\CC を構成する方法はいくつか考えられるが、
    \RC から\CC を構成する方法としては本論文で与えた構成Λが最も有効であると考える。





\topic{本論文では、\RC (relevance category)の定義及び基本的な例を述べたのち、\RC の「\CC 化」操作である構成$\Lambda$を記述
%し、そのwell-defined性を証明
し、$\Lambda$の普遍性、及び$\Lambda$が$\Set^{\mono}$から$\Set$を復元する性質を持つことを証明する。}


\subsection{記法}
本論文では簡明さのために、圏の射の合成の記号として$\comp$を用いる。
$f\comp g := g\o f$である。すなわち、この記法では射の合成を図式を読む順番と同じ順番で書くことになる。
古くは情報系の文脈では合成を$f;g$と書く文献もあるとされる(\cite{barr1990category})が、数学では大変分かりにくくなるためこれを避ける。

また、モノイド圏の図式の記述に際して、煩雑さを避けるため、
結合律の同型$\alpha$によって結ばれる対象同士は記号の濫用によって同一視し、$\alpha$は明示しない。

加えて、図式中の射の表示に際しては、簡単のため
$id_A\tensor id_B \tensor f \tensor id_D \tensor id_E$を
$AB\tensor f \tensor DE$のように記述する。
\newpage







































\section{\RC}
Introductionで述べたように、\RC とは対称モノイド圏$\R$に「複製」$\set{\Delta_X:X\to X\tensor X}_{X\in\R}$を付加した構造である。
\RC は対応$\R(Z,X)\times\R(Z,Y)\to\R(Z,X\tensor Y);(f,g)\mapsto \Delta_Z\comp(f\tensor g)$を伴うから、
\RC は対称モノイド圏$\R$に自然変換$\set{\R(-,X)\times\R(-,Y)\to\R(-,X\tensor Y)}_{X,Y\in\R}$を付加した構造を持つ。
逆に、よい自然変換$\set{\phi_{X,Y}:\R(-,X)\times\R(-,Y)\to\R(-,X\tensor Y)}_{X,Y\in\R}$があれば
複製$\Delta_X:=\phi_{X,X,X}(id_X,id_X):X\to X\tensor X$が得られるので、
\RC は対称モノイド圏$\R$に自然変換$\set{\R(-,X)\times\R(-,Y)\to\R(-,X\tensor Y)}_{X,Y\in\R}$を付加した構造に他ならないと言える。
\CC は対称モノイド圏$\C$によい自然同型$\set{\C(-,X)\times\C(-,Y)\simeq\C(-,X\tensor Y)}_{X,Y\in\C}$を付加した構造であったから、
\RC はlax-\CC とも呼ぶべきものである。
\RC は{\cite{JACOBS199473}}でmonoidal structure with diagonalsとして定義されたのが初出と思われる。

本節では、\RC とその周辺概念の定義、及び基本的な例を記述する。

%\subsection{\RC の定義}
\begin{definition}[\RC]
    \RC とは、
    \SMC $\underline{\R} = (\underline{\underline{\R}},\tensor, I, \alpha, \lambda, \rho, \gamma)$ と
    自然変換$\Delta_X:X\to X\tensor X$ の組$\R=(\underline{\R}, \Delta)$であって、
    $\Delta$がモノイド自然変換で結合的かつ可換であるようなものである。
    ただし、自然変換$\Delta$がモノイド自然変換で結合的かつ可換であるとは、
    以下の４つの図式を可換にすることである。

    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJYXFx0ZW5zb3IgWSJdLFsyLDAsIlhcXHRlbnNvciBZIFxcdGVuc29yIFggXFx0ZW5zb3IgWSJdLFswLDIsIlhcXHRlbnNvciBZIl0sWzIsMiwiWFxcdGVuc29yIFggXFx0ZW5zb3IgWSBcXHRlbnNvciBZIl0sWzAsMSwiXFxEZWx0YV97WFxcdGVuc29yIFl9Il0sWzAsMiwiPSIsMl0sWzIsMywiXFxEZWx0YV97WH1cXHRlbnNvclxcRGVsdGFfe1l9IiwyXSxbMSwzLCJYXFx0ZW5zb3JcXGdhbW1hX3tYLFl9XFx0ZW5zb3IgWSJdXQ==
    \[\begin{tikzcd}
        {X\tensor Y} && {X\tensor Y \tensor X \tensor Y} \\
        \\
        {X\tensor Y} && {X\tensor X \tensor Y \tensor Y}
        \arrow["{\Delta_{X\tensor Y}}", from=1-1, to=1-3]
        \arrow["{=}"', from=1-1, to=3-1]
        \arrow["{\Delta_{X}\tensor\Delta_{Y}}"', from=3-1, to=3-3]
        \arrow["{X\tensor\gamma_{X,Y}\tensor Y}", from=1-3, to=3-3]
    \end{tikzcd}\]
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJJIl0sWzIsMCwiSVxcdGVuc29yIEkiXSxbMCwyLCJJIl0sWzIsMiwiSVxcdGVuc29yIEkiXSxbMCwxLCJcXERlbHRhX3tJfSJdLFswLDIsIj0iLDJdLFsxLDMsIj0iXSxbMywyLCJcXHJob19JICg9XFxsYW1iZGFfSSkiXV0=
    \[\begin{tikzcd}
        I && {I\tensor I} \\
        \\
        I && {I\tensor I}
        \arrow["{\Delta_{I}}", from=1-1, to=1-3]
        \arrow["{=}"', from=1-1, to=3-1]
        \arrow["{=}", from=1-3, to=3-3]
        \arrow["{\rho_I (=\lambda_I)}", from=3-3, to=3-1]
    \end{tikzcd}\]

    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJYIl0sWzIsMCwiWFxcdGVuc29yIFgiXSxbMCwyLCJYXFx0ZW5zb3IgWCJdLFsyLDIsIlhcXHRlbnNvciBYIFxcdGVuc29yIFgiXSxbMCwxLCJcXERlbHRhX3tYfSJdLFswLDIsIlxcRGVsdGFfe1h9IiwyXSxbMiwzLCJcXERlbHRhX3tYfVxcdGVuc29yIFgiLDJdLFsxLDMsIlhcXHRlbnNvclxcRGVsdGFfe1h9Il1d
    \[\begin{tikzcd}
        X && {X\tensor X} \\
        \\
        {X\tensor X} && {X\tensor X \tensor X}
        \arrow["{\Delta_{X}}", from=1-1, to=1-3]
        \arrow["{\Delta_{X}}"', from=1-1, to=3-1]
        \arrow["{\Delta_{X}\tensor X}"', from=3-1, to=3-3]
        \arrow["{X\tensor\Delta_{X}}", from=1-3, to=3-3]
    \end{tikzcd}\]

    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJYIl0sWzIsMCwiWFxcdGVuc29yIFgiXSxbMCwyLCJYXFx0ZW5zb3IgWCJdLFsyLDIsIlhcXHRlbnNvciBYIl0sWzAsMSwiXFxEZWx0YV97WH0iXSxbMCwyLCJcXERlbHRhX3tYfSIsMl0sWzIsMywiXFxnYW1tYV97WCxYfSIsMl0sWzEsMywiPSJdXQ==
    \[\begin{tikzcd}
        X && {X\tensor X} \\
        \\
        {X\tensor X} && {X\tensor X}
        \arrow["{\Delta_{X}}", from=1-1, to=1-3]
        \arrow["{\Delta_{X}}"', from=1-1, to=3-1]
        \arrow["{\gamma_{X,X}}"', from=3-1, to=3-3]
        \arrow["{=}", from=1-3, to=3-3]
    \end{tikzcd}\]
    この自然変換$\Delta$を関連圏$\R$の複製、複製射あるいは対角射と呼ぶ。
\end{definition}


次に関連函手を定義する。関連函手は関連圏の間の強対称モノイド函手で複製を保つものである。

\begin{definition}[\Rf]
    $\R_1,\R_2$を\RC とする。
    \Rf とは、強対称モノイド函手 $F=(F, \mu, \epsilon):\R_1\to\R_2$ であって、下の図式を可換にするもののこと。
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJGKFgpIl0sWzIsMCwiRihYKSBcXHRlbnNvciBGKFgpIl0sWzAsMiwiRihYKSJdLFsyLDIsIkYoWFxcdGVuc29yIFgpIl0sWzAsMSwiXFxEZWx0YV97RihYKX0iXSxbMCwyLCI9IiwyXSxbMiwzLCJGKFxcRGVsdGFfe1h9KSIsMl0sWzEsMywiXFx0aGV0YV97WH0iXSxbMSwzLCJcXHNpbWVxIiwyXV0=
    \[\begin{tikzcd}
        {F(X)} && {F(X) \tensor F(X)} \\
        \\
        {F(X)} && {F(X\tensor X)}
        \arrow["{\Delta_{F(X)}}", from=1-1, to=1-3]
        \arrow["{=}"', from=1-1, to=3-1]
        \arrow["{F(\Delta_{X})}"', from=3-1, to=3-3]
        \arrow["{\mu_{X}}", from=1-3, to=3-3]
        \arrow["\simeq"', from=1-3, to=3-3]
    \end{tikzcd}\]
\end{definition}


%\subsection{Examples of \RC}
集合と単射の圏$\Set^{\mono}$は素朴な方法で\RC とみなせるのであった。
この事実は次の２つから従うことだと理解できる。
まず、全ての\CC は素朴な方法で\RC とみなせる。
また、\CC のモノ射は直積で閉じていて複製はモノ射なので、モノ射の全体は「\subRC 」 になる。

    
\begin{example}[\CC]
    全ての\CC は素朴な方法で\RC とみなせる。特に、$\Set$は\RC である。%また全てのbounded semi-lattice も\RC である。    
\end{example}

\begin{definition}[\subRC]
    $\R=(\underline{\R},\Delta)$を\RC とする。
    $\R$の\subRC とは、$\underline{\R}$のモノイド部分圏$\underline{\N}\subset \underline{\R}$であって、
    任意の$\underline{\N}$の対象$X$に対し$\underline{\R}$の射$\Delta_X$が$\underline{\N}$の射であるようなもののことである。
\end{definition}

関連部分圏は自然な方法で関連圏とみなせる。

\begin{example}[モノ射の成す\subRC]
    \CC\ $\C$に対し、$\C$のモノ射全体の成す部分圏$\C^{\mono}$ は \subRC である。
    正則モノ射や分裂モノ射についても同様である。
    特に、$\Set^{\mono}$は\RC である。
    %また、bounded semi-lattice の 分裂モノ射の全体を取ることで、離散\RC が得られる。離散対称モノイド圏とは即ち可換モノイドであるが、このモノイドが関連圏の構造を持つことは冪等であることを意味する。つまり、この操作はbounded semilatticeから順序を忘れて冪等可換モノイドをつくる操作と解釈できる。
\end{example}
特に$\C$として有界半束をその順序構造でデカルト圏と見なしたものを考えると、
$\C$の分裂モノ射は恒等射しかないので、分裂モノ射の全体は離散圏に関連圏の構造を入れたものになる。
離散対称モノイド圏とは即ち可換モノイドであるが、このモノイドが関連圏の構造を持つことは冪等であることを意味する。
つまり、この操作は有界半束から順序を忘れて冪等可換モノイドをつくる操作と解釈できる。

モノ射の成す\subRC の類似例として、可微分多様体の圏の全ての埋め込みの成す部分圏なども関連部分圏である。

%(式とDiagram と String Diagramを書く)


\newpage
\section{構成 \texorpdfstring{$\Lambda$}{Lambda}の定義}
本節では構成 $\Lambda$の定義を述べる。$\Lambda$は、与えられた\RC から\CC を構成する普遍的な操作である。
以下、$\R=(\R,\tensor,I,\alpha,\lambda,\rho,\gamma,\Delta)$を\RC とする。
これから本節全体を通して、デカルト圏$\Lambda(\R)$を定義する。
圏$\Lambda(\R)$を定義した後に $\Lambda(\R)$が持つ素朴なモノイド構造がデカルト積を与えることを示す。
圏$\Lambda(\R)$を構成するに当たって、まず双圏様の中間構造 $\calLambda(\R)$を構成し、その後 $\Lambda(\R)$を作る。



%\subsection{構成\texorpdfstring{$\Lambda$}{Lambda} の発想・動機付け}
%$\Lambda\-$constructionは、\cite{HT12} の構成を元に、\RC から\CC を得るように改変したものである。

\RC はしばしば\CC の\subRC として構成される。
本論文では、与えられた\RC がどのような\CC のよい\subRC として構成されるのかを調べる。


そのために注目したい\RC の例は\CC のモノ射達が成す\subRC である。
例2.5に述べたように、\CC $\C$ に対し、その全てのモノ射の成す部分圏 $\C^{\mono}$は\subRC である。
この$\C^{\mono}$をよい\subRC として持つ\CC は$\C$である。
そこで構成$\Lambda$を、$\C^{\mono}$に$\Lambda$を施したとき$\C$が復元されるように作る。

まず、$\C$と$\C^{\mono}$の対象は同じであるから、$\Lambda[\C^{\mono}]$の対象は$\C^{\mono}$の対象と定義すればよい。次に射の定義を考える。
\CC における「グラフ」は全てモノ射であったことに注目する。

第一案として、各$X,Y\in\C^{\mono}$に対し、$\Lambda[\C^{\mono}]$における$X$から$Y$への射集合$\Lambda[\C^{\mono}](X,Y)$を
\[
\Lambda[\C^{\mono}](X,Y):=\set{f:X\to X\times Y \rmin \C^{\mono} \ | \ \left(\ \text{適切な条件式}\ \right)}
\]
%(\compose{f}{\pi_X} = id_X \rmin \C)
と定義することが考えられる。
ただし「適切な条件式」とは$f$が$\C$でグラフであることと同値な$\C^{\mono}$の条件式である(これは実現可能だが仔細には触れない)。
このとき確かに$\Lambda[\C^{\mono}](X,Y)\simeq  \C(X,Y)$だが、このままでは合成がうまく定義できない：
$f:X\to X\times Y$と$g:Y\to Y\times Z$の安直な合成は$\compose{f}{(X\times g)}:X\to X\times Y \times Z$で、
これから$X \to X\times Z$の射を得るためには射影$X\times Y\times Z\to X\times Z$が必要であるが、
射影は多くの場合モノ射ではないので使えない。
そもそも全ての射影がある\RC はただの\CC である。

そこで第二案として、
各$X,Y\in\C^{\mono}$に対し、$\Lambda[\C^{\mono}]$における$X$から$Y$への射を、「パラメータ付きグラフ」として定義することを考える。すなわち、
\[
\Lambda[\C^{\mono}](X,Y):=\set{(A,f) \ | \ A\in\C^{\mono}, \  f:X\to A\times Y \rmin \C^{\mono}}/(\text{適切な同値関係})
\]
とする。ただしここで、適切な同値関係とは、$(A,f)\sim (B,g)$であるのがちょうど$\C$で$f\comp\pi_Y = g\comp\pi_Y$であるときになるような同値関係である。
このような同値関係は実際$\C^{\mono}$の構造のみから得られる。
%容易ではないが、再び\cite{HT12}がヒントを与えてくれた。
本節では、その構成の詳細を記述する。

本節では、上記第二案の構成の詳細及びwell-defined性の証明を述べる。
\S\ref{subsection:calLambda} で構成の第一段階として双圏様の中間構造を定義し、
\S\ref{subsection:Lambda(R)} でその商として$\Lambda[\R]$を定義し、そのwell-defined性を証明する。
\S\ref{subsection:cartesian_structure_of_Lambda(R)}では構成した圏$\Lambda[\R]$が\CC になっていることを証明する。

%一点注意しておく。
本稿における$\Lambda$の構成は、\cite{HT12}の構成が大きなヒントになっているが、重大な違いがある。
\cite{HT12}ではまず中間構造として双圏を構成して、
そのlocal categoryの連結成分を取ることで欲しい圏を得ていた。
本稿でも概ねそのような方針で構成するのだが、\cite{HT12}で双圏になっていたものに相当する中間構造が双圏にならない。
この問題に起因して、連結成分を取ることで圏が得られることが自明ではなくなっている。
そのため、最終的に得る圏のwell-defined性の証明(\reflem{lem:composition_of_Lambda(R)_is_well-defined})が書かれている。





\subsection{中間構造 \texorpdfstring{$\calLambda(\R)$}{Lambda(R)}の構成}
\label{subsection:calLambda}
本\S\thesubsection 節では、圏$\Lambda(\R)$を定義する前準備として、中間構造$\calLambda(\R)$を構成する。

$\calLambda(\R)$は、双圏に似た次の４つの構造を持っている：\\
(1) 対象の集まり $\Ob{\calLambda(\R)}$\\
(2) $\calLambda(\R)$の各対象$\bar{X},\bar{Y}$毎の圏$\calLambda(\R)(\bar{X},\bar{Y})$
    \hspace{1em}($\calLambda(\R)(\bar{X},\bar{Y})$の対象を1-射と、射を2-射と呼ぶ。)\\
(3) 各1-射$v:\bar{X}\to\bar{Y}, w:\bar{Y}\to\bar{Z}$毎の合成1-射$v\comp w:\bar{X}\to\bar{Z}$\\
(4) $\calLambda(\R)$の各対象$\bar{X}$毎の恒等1-射$id_{\bar{X}}:\bar{X}\to\bar{X}$\\
しかしながら、$\calLambda(\R)$は2-射の間の水平合成を持たないため、双圏にはならない。


\begin{comment}
これから定義される$\Lambda(\R)$の対象は、ちょうど$\R$の対象とする予定である。\\
本節では$\Lambda(\R)$を定義する前準備をする。\\
各$X,Y\in\R$に対し、
我々はこれから射の集合$\Lambda(\R)(X,Y)$を定義するわけだが、
まず始めに圏$\calLambda(\R)(X,Y)$を定義し、
その連結成分の集合として$\Lambda(\R)(X,Y)$を定義する。\\
連結成分を取る操作に関するwell-definednessが非自明な部分は次節\S \arabic{section}.3 に回し、本節では中間構造$\calLambda(\R)(X,Y)$を定義する。\\
\end{comment}

$\calLambda(\R)$は$\Lambda(\R)$の定義に用いる。
$\calLambda(\R)$の対象は$\Lambda(\R)$の対象に対応し、$\calLambda(\R)$の1-射の同値類が$\Lambda(\R)$の射に対応する。
$\calLambda(\R)$の2-射は、$\calLambda(\R)$の1-射から$\Lambda(\R)$の射をつくるための同値関係として機能する。


以下、$\calLambda(\R)$を定義する。
$\calLambda(\R)$の対象は$\R$の対象とする。
ただし、可読性のために、各$\R$の対象$X$に対し、それに対応する$\calLambda(\R)$における対象を$\bar{X}$と書くことにする。
即ち、$\Ob{\calLambda(\R)}:=\set{\bar{X} | X\in\R}$である。
はじめに、各対象 $\bar{X},\bar{Y}\in\Ob{\calLambda(\R)}$毎に圏 $\calLambda(\R)(\bar{X},\bar{Y})$を定義する。

\begin{definitionsub}[\texorpdfstring{$\calLambda(\R)$}{Lambda(R)}の1-射]
    $X,Y\in\R$とする。
    $\calLambda(\R)$の$\bar{X}$から$\bar{Y}$への1-射とは、
    $A\in\R$と$\R$の射$f:X\to A\tensor Y$ の組$(A,f)$のことである。
\end{definitionsub}

このように定めた$\calLambda(\R)$の1-射の同値類が$\Lambda(\R)$の射となる。
同値関係として「有限個の2-射で結ばれていること」を用いる。その2-射は下記のとおり定義する。

\begin{definitionsub}[$\calLambda(\R)$の2-射]
    $X,Y\in\R$とし、
    $(A,f), (B,g)$を$\bar{X}$から$\bar{Y}$への$\calLambda(\R)$の1-射とする。
    $\calLambda(\R)$の$(A,f)$から$(B,g)$への2-射とは、
    $\R$の射$k:A\tensor Y \to B\tensor Y$ であって下の図式の三角形及び四角形を可換にするもののことである。

    % https://q.uiver.app/?q=WzAsNSxbMCwxLCJYIl0sWzIsMCwiQVxcdGVuc29yIFkiXSxbMiwyLCJCXFx0ZW5zb3IgWSJdLFs0LDAsIkFcXHRlbnNvciBZXFx0ZW5zb3IgWSJdLFs0LDIsIkJcXHRlbnNvciBZXFx0ZW5zb3IgWSJdLFswLDEsImYiXSxbMCwyLCJnIiwyXSxbMSwzLCJBXFx0ZW5zb3JcXERlbHRhX1kiXSxbMiw0LCJCXFx0ZW5zb3JcXERlbHRhX1kiLDJdLFszLDQsImtcXHRlbnNvciBZIl0sWzEsMiwiayJdXQ==
    \[\begin{tikzcd}
        && {A\tensor Y} && {A\tensor Y\tensor Y} \\
        X \\
        && {B\tensor Y} && {B\tensor Y\tensor Y}
        \arrow["f", from=2-1, to=1-3]
        \arrow["g"', from=2-1, to=3-3]
        \arrow["{A\tensor\Delta_Y}", from=1-3, to=1-5]
        \arrow["{B\tensor\Delta_Y}"', from=3-3, to=3-5]
        \arrow["{k\tensor Y}", from=1-5, to=3-5]
        \arrow["k", from=1-3, to=3-3]
    \end{tikzcd}\]
\end{definitionsub}

2-射の例を２つ挙げておく。

\begin{propositionsub}[自明な 2-射]
    \label{prop:trivial_2-morphism}
    $B,X,Y\in\R$とし、
    $(A,f)$を$\bar{X}$から$\bar{Y}$への$\calLambda(\R)$の1-射、
    $a:A \to B$を$\R$の射とする。
    このとき、\\
    (1)$g:=f\comp(a\tensor Y)$とおくと、
    $(B,g)$は$\bar{X}$から$\bar{Y}$への$\calLambda(\R)$の1-射である。\\
    (2)$\R$の射$k:=(a\tensor Y)$は$\calLambda(\R)$の 2-射 $k:(A,f)\to(B,g)$を与える。\\
\end{propositionsub}

\begin{proof}
    (1)定義より従う。\\
    (2) $\tensor$の函手性から従う。 下図の右の四角形の左上から右下への射は、上下どちらも$a\tensor\Delta_Y$である。
    % https://q.uiver.app/?q=WzAsNSxbMCwxLCJYIl0sWzIsMCwiQVxcdGVuc29yIFkiXSxbMiwyLCJCXFx0ZW5zb3IgWSJdLFs0LDAsIkFcXHRlbnNvciBZXFx0ZW5zb3IgWSJdLFs0LDIsIkJcXHRlbnNvciBZXFx0ZW5zb3IgWSJdLFswLDEsImYiXSxbMCwyLCJnOj1mXFxjb21wIGsiLDJdLFsxLDMsIkFcXHRlbnNvclxcRGVsdGFfWSJdLFsyLDQsIkJcXHRlbnNvclxcRGVsdGFfWSIsMl0sWzMsNCwia1xcdGVuc29yIFkgPSBhIFxcdGVuc29yIFlZIl0sWzEsMiwiazo9YVxcdGVuc29yIFkiLDFdXQ==
    \[\begin{tikzcd}
    	&& {A\tensor Y} && {A\tensor Y\tensor Y} \\
    	X \\
    	&& {B\tensor Y} && {B\tensor Y\tensor Y}
    	\arrow["f", from=2-1, to=1-3]
    	\arrow["{g:=f\comp k}"', from=2-1, to=3-3]
    	\arrow["{A\tensor\Delta_Y}", from=1-3, to=1-5]
    	\arrow["{B\tensor\Delta_Y}"', from=3-3, to=3-5]
    	\arrow["{k\tensor Y = a \tensor YY}", from=1-5, to=3-5]
    	\arrow["{k:=a\tensor Y}"{description}, from=1-3, to=3-3]
    \end{tikzcd}\]
\end{proof}


\begin{propositionsub}[複製は 2-射である]
    \label{prop:diagonal_2-morphism}
    $X,Y\in\R$とし、
    $(A,f)$を$\bar{X}$から$\bar{Y}$への$\calLambda(\R)$の1-射とする。
    このとき、\\
    (1)$g:=f\comp(A\tensor\Delta_Y)$とおくと、
    $(A\tensor Y,g)$は$\bar{X}$から$\bar{Y}$への$\calLambda(\R)$の1-射 である。\\
    (2)$\R$の射$k:=A\tensor\Delta_Y$は$\calLambda(\R)$の 2-射 $k:(A,f)\to(A\tensor Y,g)$を与える。\\
\end{propositionsub}

\begin{proof}
    (1)定義より従う。\\
    (2)$\Delta$が結合的であったことから従う。右側の四角形が可換であることは $\Delta_Y\comp(Y\tensor\Delta_Y) = \Delta_Y\comp(\Delta_Y\tensor Y)$であることによる。\\
    % https://q.uiver.app/?q=WzAsNSxbMCwxLCJYIl0sWzIsMCwiQVxcdGVuc29yIFkiXSxbMiwyLCJBXFx0ZW5zb3IgWVxcdGVuc29yIFkiXSxbNCwwLCJBXFx0ZW5zb3IgWVxcdGVuc29yIFkiXSxbNCwyLCJBXFx0ZW5zb3IgWVxcdGVuc29yIFlcXHRlbnNvciBZIl0sWzAsMSwiZiJdLFswLDIsImc6PWZcXGNvbXAgayIsMl0sWzEsMywiQVxcdGVuc29yXFxEZWx0YV9ZIl0sWzIsNCwiQVlcXHRlbnNvclxcRGVsdGFfWSIsMl0sWzMsNCwia1xcdGVuc29yIFkgPSBBXFx0ZW5zb3JcXERlbHRhX1lcXHRlbnNvciBZIl0sWzEsMiwiazo9QVxcdGVuc29yXFxEZWx0YV9ZIiwxXV0=
    \[\begin{tikzcd}
    	&& {A\tensor Y} && {A\tensor Y\tensor Y} \\
    	X \\
    	&& {A\tensor Y\tensor Y} && {A\tensor Y\tensor Y\tensor Y}
    	\arrow["f", from=2-1, to=1-3]
    	\arrow["{g:=f\comp k}"', from=2-1, to=3-3]
    	\arrow["{A\tensor\Delta_Y}", from=1-3, to=1-5]
    	\arrow["{AY\tensor\Delta_Y}"', from=3-3, to=3-5]
    	\arrow["{k\tensor Y = A\tensor\Delta_Y\tensor Y}", from=1-5, to=3-5]
    	\arrow["{k:=A\tensor\Delta_Y}"{description}, from=1-3, to=3-3]
    \end{tikzcd}\]
\end{proof}

%\paragraph{Definition \arabic{section}.\arabic{subsection}.5: local category of $\calLambda(\R)$}\ \\
\begin{definitionsub}[local category of $\calLambda(\R)$]
    各$X,Y\in\R$に対し、圏$\calLambda(\R)(\bar{X},\bar{Y})$を以下のように定める：
    対象は$\bar{X}$から$\bar{Y}$への1-射, 射はその間の2-射とし、
    2-射同士の(垂直)合成、及び恒等2-射は素直に定義する。
    これらはwell-definedで、圏の公理を満たす。\\
\end{definitionsub}


以上で圏$\calLambda(\R)(\bar{X},\bar{Y})$が定義された。
本小節の残りで1-射の合成、恒等1-射と2-射の左whiskeringを定義し、中間構造$\calLambda(\R)$の定義を終える。

%\paragraph{Definition \arabic{section}.\arabic{subsection}.6: 1-射の合成}\ \\
\begin{definitionsub}[1-射の合成]
    $X,Y,Z\in\R$とし、$(A,f)$を$\bar{X}$から$\bar{Y}$への、$(B,g)$を$\bar{Y}$から$\bar{Z}$への$\calLambda(\R)$の1-射とする。
    $\bar{X}$から$\bar{Z}$への$\calLambda(\R)$の1-射$(A,f)\comp(B,g)$を $(A\tensor B, h)$と定める。
    ただし$\R$の射$h:X\to A\tensor B\tensor Z$は次の列の合成で定める：
    % https://q.uiver.app/?q=WzAsMyxbMSwwLCJBXFx0ZW5zb3IgWSJdLFszLDAsIkFcXHRlbnNvciBCXFx0ZW5zb3IgWiJdLFswLDAsIlgiXSxbMCwxLCJBXFx0ZW5zb3IgZyJdLFsyLDAsImYiXV0=
    \[\begin{tikzcd}
        X & {A\tensor Y} && {A\tensor B\tensor Z.}
        \arrow["{A\tensor g}", from=1-2, to=1-4]
        \arrow["f", from=1-1, to=1-2]
    \end{tikzcd}\]
    この合成は結合律を満たす。
\end{definitionsub}


%(String Diagramも描く)


%\paragraph{Definition \arabic{section}.\arabic{subsection}.7: 恒等1-射}\ \\
\begin{definitionsub}[恒等1-射]
    この恒等射と上記合成は整合性の同型の違いを除いて単位律を満たす。
\end{definitionsub}

%\paragraph{Proposition \arabic{section}.\arabic{subsection}.7: 2-射の左whiskering}\ \\
\begin{propositionsub}[2-射の左whiskering]
    \label{prop:left_whiskering}
    $X,Y,Z\in\R$とし、$(A,f)$を$\bar{X}$から$\bar{Y}$への、
        $(B_1,g_1),(B_2,g_2)$を$\bar{Y}$から$\bar{Z}$への$\calLambda(\R)$の1-射とする。
    $k:(B_1,g_1)\to (B_2,g_2)$を$\calLambda(\R)$の2-射とする。
    このとき、$\R$の射$f*k:A\tensor B_1\tensor Z\to A\tensor B_2\tensor Z$を$f*k:=A\tensor k$で定めると、
        これは$\calLambda(\R)$の2-射 $f*k:(A,f)\comp(B_1,g_1)\to (A,f)\comp(B_2,g_2)$を与える。
\end{propositionsub}

\begin{proof}
    %(proof)\\% of 2-射であること)\\
    次の図式の上下が等しいことを示せばよい：
    % https://q.uiver.app/#q=WzAsNixbMiwwLCJBXFx0ZW5zb3IgQl8xXFx0ZW5zb3IgWiJdLFsyLDIsIkFcXHRlbnNvciBCXzJcXHRlbnNvciBaIl0sWzQsMCwiQVxcdGVuc29yIEJfMVxcdGVuc29yIFpcXHRlbnNvciBaIl0sWzQsMiwiQVxcdGVuc29yIEJfMlxcdGVuc29yIFpcXHRlbnNvciBaIl0sWzEsMSwiQVxcdGVuc29yIFkiXSxbMCwxLCJYIl0sWzAsMiwiQUJfMVxcdGVuc29yXFxEZWx0YV9aIl0sWzEsMywiQUJfMlxcdGVuc29yXFxEZWx0YV9aIiwyXSxbMiwzLCIoZiprKVxcdGVuc29yIFo6PUFcXHRlbnNvciBrXFx0ZW5zb3IgWiJdLFs0LDAsIkFcXHRlbnNvciBnXzEiXSxbNCwxLCJBXFx0ZW5zb3IgZ18yIiwyXSxbNSw0LCJmIl0sWzAsMSwiZiprIiwxXV0=
    \[\begin{tikzcd}
        && {A\tensor B_1\tensor Z} && {A\tensor B_1\tensor Z\tensor Z} \\
        X & {A\tensor Y} \\
        && {A\tensor B_2\tensor Z} && {A\tensor B_2\tensor Z\tensor Z}
        \arrow["{AB_1\tensor\Delta_Z}", from=1-3, to=1-5]
        \arrow["{AB_2\tensor\Delta_Z}"', from=3-3, to=3-5]
        \arrow["{(f*k)\tensor Z:=A\tensor k\tensor Z}", from=1-5, to=3-5]
        \arrow["{A\tensor g_1}", from=2-2, to=1-3]
        \arrow["{A\tensor g_2}"', from=2-2, to=3-3]
        \arrow["f", from=2-1, to=2-2]
        \arrow["{f*k}"{description}, from=1-3, to=3-3]
    \end{tikzcd}\]
    $k$は2-射であったから、次の図式は可換である：
    % https://q.uiver.app/#q=WzAsNSxbMCwxLCJZIl0sWzIsMCwiQl8xXFx0ZW5zb3IgWiJdLFsyLDIsIkJfMlxcdGVuc29yIFoiXSxbNCwwLCJCXzFcXHRlbnNvciBaXFx0ZW5zb3IgWiJdLFs0LDIsIkJfMlxcdGVuc29yIFpcXHRlbnNvciBaIl0sWzAsMSwiZ18xIl0sWzAsMiwiZ18yIiwyXSxbMSwzLCJCXzFcXHRlbnNvclxcRGVsdGFfWiJdLFsyLDQsIkJfMlxcdGVuc29yXFxEZWx0YV9aIiwyXSxbMyw0LCJrXFx0ZW5zb3IgWiJdLFsxLDIsImsiXV0=
    \[\begin{tikzcd}
        && {B_1\tensor Z} && {B_1\tensor Z\tensor Z} \\
        Y \\
        && {B_2\tensor Z} && {B_2\tensor Z\tensor Z}
        \arrow["{g_1}", from=2-1, to=1-3]
        \arrow["{g_2}"', from=2-1, to=3-3]
        \arrow["{B_1\tensor\Delta_Z}", from=1-3, to=1-5]
        \arrow["{B_2\tensor\Delta_Z}"', from=3-3, to=3-5]
        \arrow["{k\tensor Z}", from=1-5, to=3-5]
        \arrow["k", from=1-3, to=3-3]
    \end{tikzcd}\]
    この図式に$A\tensor -$を施せば、求める図式の可換性を得る。\\
\end{proof}

以上で中間構造$\calLambda(\R)$の定義が完了した。次節で圏 $\Lambda(\R)$を定義し、次々節でそのデカルト構造を示す。


\subsection{圏\texorpdfstring{$\Lambda(\R)$}{Lambda(R)}の構成}
\label{subsection:Lambda(R)}
本節では圏$\Lambda(\R)$の定義を完成する。
まず前述の通り$\Lambda(\R)$の射を$\calLambda(\R)$の1-射の同値類として定義する。
次に合成を$\calLambda(\R)$の1-射の合成から誘導されるものとして定義するが、これのwell-defined性は非自明であるから、これを示す。

%\paragraph{Definition \arabic{section}.\arabic{subsection}.1：\ $\Lambda(\R)$の対象}\ \\
\begin{definitionsub}[$\Lambda(\R)$の対象]
    \label{def:object_of_Lambda(R)}
    $\Ob{\Lambda(\R)}:= \Ob{\calLambda(\R)} \ (=\set{\bar{X} \ | \ X\in\Ob{\R}})$とする。
\end{definitionsub}

%\paragraph{Definition \arabic{section}.\arabic{subsection}.2：\ $\Lambda(\R)$の射}\ \\
\begin{definitionsub}[$\Lambda(\R)$の射]
    \label{def:morphism_of_Lambda(R)}
    $\calLambda(\R)(\bar{X},\bar{Y})$上の同値関係$\sim$を二項関係「2-射で繋がれている」が生成する同値関係とする。
    すなわち、２つの2-射$(A,f),(B,g):\bar{X}\to \bar{Y}$が$(A,f)\sim (B,g)$であるのは、有限個の2-射
        $k_{2i}:(C_{2i},h_{2i})\to (C_{2i+1},h_{2i+1})$,
        $k_{2i+1}:(C_{2i+2},h_{2i+2})\to (C_{2i+1},h_{2i+1}) \ \ (i=0,..,n-1)$
        が存在して、
        $(C_0,h_0)=(A,f), (C_{2n}, h_{2n})=(B,g)$であるときである。
    この$\sim$を用いて$\Lambda(\R)(\bar{X},\bar{Y}):=\calLambda(\R)(\bar{X},\bar{Y})/\sim$と定義する。
    即ち、$\Lambda(\R)(\bar{X},\bar{Y})$は$\calLambda(\R)(\bar{X},\bar{Y})$の連結成分全体の集合である。
\end{definitionsub}


これからこの商集合の上に合成が誘導されることを示す(\reflem{lem:composition_of_Lambda(R)_is_well-defined})。
そのために、先に必要な技術的な補題(\reflem{lem:graph_is_same_as_original})を示しておく。

\reflem{lem:graph_is_same_as_original}に先んじて、その意味を説明しておく。
前述のとおり、$\Lambda[\Set^{\mono}]$の射は$\Set^{\mono}$の射をグラフとするようなものである。
一方で、$\Set^{\mono}$の射はそれ自体素朴に$\Lambda[\Set^{\mono}]$の射だとみなせるべきである。
即ち、単射写像$f:X\to Y$に対して、$f$自身を$\Lambda[\Set^{\mono}]$に埋め込んだ射$[1,f]$と$f$のグラフ$[X,(id_X,f)]$は、
    ($\Lambda[\Set^{\mono}]$の射として)同一であるべきだ。
\reflem{lem:graph_is_same_as_original}はまさしくこれを主張するものである。

%\paragraph{Lemma \arabic{section}.3.3：\ $\R$の射のグラフは$\Lambda(\R)$ではもとの $\R$の射と同じ}\ \\
\begin{lemmasub}[$\R$の射のグラフは$\Lambda(\R)$ではもとの $\R$の射と同じ]
    \label{lem:graph_is_same_as_original}
    $(A,f):\bar{X} \to \bar{Y} \rmin\calLambda(\R)$ に対し、
    $(A,f)\sim (X\tensor A, \Delta_X\comp(X\tensor f))$である。\\
    % https://q.uiver.app/#q=WzAsMixbMCwwLCIoWCJdLFsyLDAsIkFcXHRlbnNvciBZKSJdLFswLDEsImYiXV0=
    \[\begin{tikzcd}
        {(X} && {A\tensor Y)}
        \arrow["f", from=1-1, to=1-3]
    \end{tikzcd}\]

    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXHNpbVxcIChYIl0sWzEsMCwiWFxcdGVuc29yIFgiXSxbMiwwXSxbMywwLCJYXFx0ZW5zb3IgQVxcdGVuc29yIFkgKSJdLFswLDEsIlxcRGVsdGFfWCJdLFsxLDMsIlhcXHRlbnNvciBmIl1d
    \[\begin{tikzcd}
        {\sim\ (X} & {X\tensor X} & {} & {X\tensor A\tensor Y )}
        \arrow["{\Delta_X}", from=1-1, to=1-2]
        \arrow["{X\tensor f}", from=1-2, to=1-4]
    \end{tikzcd}\]
\end{lemmasub}

%(Stringでも主張を書く)\\

\begin{proof}
    次のように同値で結ぶことができる。
    \begin{align*}
        & (A,f)\\
        \sim \ & (A\tensor Y,\ f\comp(A\tensor \Delta_Y))  \ \ \text{(\refprop{prop:diagonal_2-morphism}より)}\\
        \sim \ & (A\tensor A\tensor Y,\ f\comp(A\tensor \Delta_Y)\comp(\Delta_A\tensor YY))
            \ \ \text{(\refprop{prop:trivial_2-morphism} と \refprop{prop:left_whiskering} より)}\\
        = \ & (A\tensor A\tensor Y,\ f\comp(\Delta_A\tensor \Delta_Y))
        \ \ \text{($\tensor$の函手性より)}\\
        \sim \ & (A\tensor Y\tensor A,\ f\comp(\Delta_A\tensor \Delta_Y)\comp(A\tensor\gamma_{AY}\tensor Y)
        \ \ \text{(\refprop{prop:trivial_2-morphism} と \refprop{prop:left_whiskering} より)}\\
        = \ & (A\tensor Y\tensor A,\ f\comp\Delta_{A\tensor Y}))
        \ \ \text{($\because \Delta$はモノイド自然変換であった)}\\
        = \ & (A\tensor Y\tensor A,\ \Delta_X\comp(f\tensor f))
        \ \ \text{($\Delta$の自然性より)}\\
        \sim \ & (X\tensor A,\ \Delta_X\comp(X\tensor f))
        \ \ \text{(\refprop{prop:trivial_2-morphism} と \refprop{prop:left_whiskering} より)}\\
    \end{align*}
    これで示された。分かりやすさのために、同じ式変形の図式とstring diagramを付しておく。
    % https://q.uiver.app/?q=WzAsMixbMCwwLCJbWCJdLFsyLDAsIkFcXHRlbnNvciBZXSJdLFswLDEsImYiXV0=
    \[\begin{tikzcd}
    	{(X} && {A\tensor Y)}
    	\arrow["f", from=1-1, to=1-3]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXHNpbVxcIFtYIl0sWzEsMCwiQVxcdGVuc29yIFkiXSxbMywwLCJBXFx0ZW5zb3IgWVxcdGVuc29yIFldIl0sWzUsMCwiXFx0ZXh0eyhieSBwcm9wIDQuMi40KX0iXSxbMCwxLCJmIl0sWzEsMiwiQVxcdGVuc29yIFxcRGVsdGFfWSJdXQ==
    \[\begin{tikzcd}
    	{\sim\ (X} & {A\tensor Y} && {A\tensor Y\tensor Y)} && {\text{(by prop \arabic{section}.2.4)}}
    	\arrow["f", from=1-1, to=1-2]
    	\arrow["{A\tensor \Delta_Y}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNixbMCwxLCJcXHNpbVxcIFtYIl0sWzEsMSwiQVxcdGVuc29yIFkiXSxbMywxLCJBXFx0ZW5zb3IgWVxcdGVuc29yIFkiXSxbNSwxLCJBXFx0ZW5zb3IgQVxcdGVuc29yIFlcXHRlbnNvciBZXSJdLFsxLDBdLFsyLDBdLFswLDEsImYiXSxbMSwyLCJBXFx0ZW5zb3IgXFxEZWx0YV9ZIl0sWzIsMywiXFxEZWx0YV97QX1cXHRlbnNvciBZWSJdLFs0LDUsIlxcdGV4dHsoYnkgcHJvcCA0LjIuMyBhbmQgNC4yLjcpfSIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6Im5vbmUifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dXQ==
    \[\begin{tikzcd}
    	& {} & {} \\
    	{\sim\ (X} & {A\tensor Y} && {A\tensor Y\tensor Y} && {A\tensor A\tensor Y\tensor Y)}
    	\arrow["f", from=2-1, to=2-2]
    	\arrow["{A\tensor \Delta_Y}", from=2-2, to=2-4]
    	\arrow["{\Delta_{A}\tensor YY}", from=2-4, to=2-6]
    	\arrow["{\text{(by prop \arabic{section}.2.3 and \arabic{section}.2.7)}}"', draw=none, from=1-2, to=1-3]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCI9XFwgW1giXSxbMSwwLCJBXFx0ZW5zb3IgWSJdLFszLDAsIkFcXHRlbnNvciBBXFx0ZW5zb3IgWVxcdGVuc29yIFldIl0sWzQsMCwiXFx0ZXh0eyhieSBmdW5jdG9yaWFsaXR5IG9mICRcXHRlbnNvciQpfSJdLFswLDEsImYiXSxbMSwyLCJcXERlbHRhX3tBfVxcdGVuc29yIFxcRGVsdGFfWSJdXQ==
    \[\begin{tikzcd}
    	{=\ (X} & {A\tensor Y} && {A\tensor A\tensor Y\tensor Y)} & {\text{(by functoriality of $\tensor$)}}
    	\arrow["f", from=1-1, to=1-2]
    	\arrow["{\Delta_{A}\tensor \Delta_Y}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCI9XFwgW1giXSxbMSwwLCJBXFx0ZW5zb3IgWSJdLFszLDAsIkFcXHRlbnNvciBZXFx0ZW5zb3IgQVxcdGVuc29yIFldIl0sWzQsMCwiXFx0ZXh0eyhiZWNhdXNlICRcXERlbHRhJCBpcyBtb25vaWRhbCl9Il0sWzAsMSwiZiJdLFsxLDIsIlxcRGVsdGFfe0FZfSJdXQ==
    \[\begin{tikzcd}
    	{\sim\ (X} & {A\tensor Y} && {A\tensor Y\tensor A\tensor Y)} & {\text{(because $\Delta$ is monoidal)}}
    	\arrow["f", from=1-1, to=1-2]
    	\arrow["{\Delta_{AY}}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCI9XFwgW1giXSxbMSwwLCJYXFx0ZW5zb3IgWCJdLFszLDAsIkFcXHRlbnNvciBZXFx0ZW5zb3IgQVxcdGVuc29yIFldIl0sWzQsMCwiXFx0ZXh0eyhieSBuYXR1cmFsaXR5IG9mICRcXERlbHRhJCl9Il0sWzAsMSwiXFxEZWx0YV9YIl0sWzEsMiwiZlxcdGVuc29yIGYiXV0=
    \[\begin{tikzcd}
    	{=\ (X} & {X\tensor X} && {A\tensor Y\tensor A\tensor Y)} & {\text{(by naturality of $\Delta$)}}
    	\arrow["{\Delta_X}", from=1-1, to=1-2]
    	\arrow["{f\tensor f}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCI9XFwgW1giXSxbMSwwLCJYXFx0ZW5zb3IgWCJdLFszLDAsIlhcXHRlbnNvciBBXFx0ZW5zb3IgWSJdLFs1LDAsIkFcXHRlbnNvciBZXFx0ZW5zb3IgQVxcdGVuc29yIFldIl0sWzAsMSwiXFxEZWx0YV9YIl0sWzEsMiwiWFxcdGVuc29yIGYiXSxbMiwzLCJmXFx0ZW5zb3IgQVkiXV0=
    \[\begin{tikzcd}
    	{=\ (X} & {X\tensor X} && {X\tensor A\tensor Y} && {A\tensor Y\tensor A\tensor Y)}
    	\arrow["{\Delta_X}", from=1-1, to=1-2]
    	\arrow["{X\tensor f}", from=1-2, to=1-4]
    	\arrow["{f\tensor AY}", from=1-4, to=1-6]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXHNpbVxcIFtYIl0sWzEsMCwiWFxcdGVuc29yIFgiXSxbMywwLCJYXFx0ZW5zb3IgQVxcdGVuc29yIFldIl0sWzQsMCwiXFx0ZXh0eyhieSBwcm9wIDQuMi4zIGFuZCA0LjIuNyBhZ2Fpbil9Il0sWzAsMSwiXFxEZWx0YV9YIl0sWzEsMiwiWFxcdGVuc29yIGYiXV0=
    \[\begin{tikzcd}
    	{\sim\ (X} & {X\tensor X} && {X\tensor A\tensor Y)} & {\text{(by prop \arabic{section}.2.3 and \arabic{section}.2.7)}}
    	\arrow["{\Delta_X}", from=1-1, to=1-2]
    	\arrow["{X\tensor f}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    %(String Diagramによる証明も書く)
    以上で示された。
    参考までに、この証明をString Diagramを用いて書き直しておく。次のようになる：
    \begin{figure}[H]
        \centering
        \includegraphics[keepaspectratio, width=8cm]{02_f.png}\\
        \includegraphics[keepaspectratio, width=8cm]{03_f_comp_a_tens_delta.png}\\
        \includegraphics[keepaspectratio, width=8cm]{04_f_comp_delta_tens_delta.png}\\
        \includegraphics[keepaspectratio, width=8cm]{05_f_comp_delta_tens_delta_comp_gamma.png}\\
        \includegraphics[keepaspectratio, width=8cm]{06_f_comp_delta.png}\\
        \includegraphics[keepaspectratio, width=8cm]{07_delta_comp_f_tens_f.png}\\
        \includegraphics[keepaspectratio, width=8cm]{08_delta_comp_x_tens_f.png}\\
        \caption{String Diagramによる証明}
        \label{fig:my_label}
    \end{figure}
\end{proof}


%\paragraph{Lemma \arabic{section}.3.4：\ $\Lambda(\R)$の射の合成のwell-defined性}\ \\
\begin{lemmasub}[$\Lambda(\R)$の射の合成のwell-defined性]
    \label{lem:composition_of_Lambda(R)_is_well-defined}
    $\bar{X},\bar{Y},\bar{Z}\in\calLambda(\R)$とする。
    任意の$(A_1,f_1),(A_2,f_2)\in\calLambda(\R)(\bar{X},\bar{Y}),\ (B_1,g_1),(B_2,g_2) \in\calLambda(\R)(\bar{Y},\bar{Z})$に対し、
    $(A_1,f_1) \sim (A_2,f_2)$かつ$(B_1,g_1) \sim (B_2,g_2)$ならば、
    $(A_1,f_1)\comp(B_1,g_1) \sim (A_2,f_2)\comp(B_2,g_2)$である。
\end{lemmasub}

\begin{proof}
    同値関係$\sim$は2-射の生成する同値関係として定義されていたので、次の２つを示せばよい：
    \begin{enumerate}[(1)]
        \item 任意の$(A_1,f_1),(A_2,f_2)\in\calLambda(\R)(\bar{X},\bar{Y}), (B,g)\in\calLambda(\R)(\bar{Y},\bar{Z})$
            及び$k:(A_1,f_1)\to (A_2,f_2)$に対し、$(A_1,f_1)\comp(B,g) \sim (A_2,f_2)\comp(B,g)$である
        \item 任意の$(A,f)\in\calLambda(\R)(\bar{X},\bar{Y}), (B_1,g_1),(B_2,g_2)\in\calLambda(\R)(\bar{Y},\bar{Z})$
            及び$l:(B_1,g_1)\to (B_2,g_2)$に対し、$(A,f)\comp(B_1,g_1) \sim (A,f)\comp(B_2,g_2)$である。
    \end{enumerate}
    このうち(2)は\refprop{prop:left_whiskering}そのものである。従って、(1)を示せば十分である。

    (1)を示す。
    $(A_1,f_1),(A_2,f_2)\in\calLambda(\R)(\bar{X},\bar{Y}), (B,g)\in\calLambda(\R)(\bar{Y},\bar{Z})$
    及び$k:(A_1,f_1)\to (A_2,f_2)$を任意に固定する。
    $(A_1,f_1)\comp(B,g)\sim(A_2,f_2)\comp(B,g)$を示す。
    \begin{align*}
        & (A_1,f_1)\comp(B,g)\\
        = \ & (A_1\tensor B, f_1\comp(A_1\tensor g))
             \ \ \text{(合成の定義より)}\\
        \sim \ & (A_1\tensor Y\tensor B, f_1\comp(A_1\tensor \Delta_Y)\comp(A_1 Y\tensor g))
            \ \ \text{(\reflem{lem:graph_is_same_as_original} と \refprop{prop:left_whiskering} より)}\\
        \sim \ & (A_2\tensor Y\tensor B, f_1\comp(A_1\tensor \Delta_Y)\comp(A_1 Y\tensor g)\comp(k\tensor BZ))
            \ \ \text{(\refprop{prop:trivial_2-morphism} と \refprop{prop:left_whiskering} より)}\\
        = \ & (A_2\tensor Y\tensor B, f_1\comp(A_1\tensor \Delta_Y)\comp(k\tensor Y)\comp(A_2 Y\tensor g))
            \ \ \text{($\tensor$の函手性より)}\\
        = \ & (A_2\tensor Y\tensor B, f_2\comp(A_2\tensor \Delta_Y)\comp(A_2 Y\tensor g))
            \ \ \text{($\because$ $k$ は $(A_1,f_1)$から$(A_2,f_2)$への2-射であった)}\\
        \sim \ & (A_2\tensor B, f_2\comp(A_2 Y\tensor g))
            \ \ \text{(\refprop{lem:graph_is_same_as_original} と \refprop{prop:left_whiskering} より)}
    \end{align*}
    以上で示された。
    
    % https://q.uiver.app/?q=WzAsMyxbMCwwLCJbWCJdLFsxLDAsIkFfMVxcdGVuc29yIFkiXSxbMywwLCJBXzFcXHRlbnNvciBCXFx0ZW5zb3IgWl0iXSxbMCwxLCJmXzEiXSxbMSwyLCJBXzFcXHRlbnNvciBnIl1d
    \[\begin{tikzcd}
    	{(X} & {A_1\tensor Y} && {A_1\tensor B\tensor Z)}
    	\arrow["{f_1}", from=1-1, to=1-2]
    	\arrow["{A_1\tensor g}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNSxbMCwxLCJcXHNpbVxcIFtYIl0sWzEsMSwiQV8xXFx0ZW5zb3IgWSJdLFszLDEsIkFfMVxcdGVuc29yIFlcXHRlbnNvciBZIl0sWzUsMSwiQV8xXFx0ZW5zb3IgWVxcdGVuc29yIEJcXHRlbnNvciBaXSJdLFsxLDAsIlxcdGV4dHsoYnkgcHJvcCA0LjIuNywgbGVtIDQuMy4zKX0iXSxbMCwxLCJmXzEiXSxbMSwyLCJBXzFcXHRlbnNvclxcRGVsdGFfWSJdLFsyLDMsIkFfMVlcXHRlbnNvciBnIl1d
    \[\begin{tikzcd}
    	& {\text{(by prop \arabic{section}.2.7, lem \arabic{section}.3.3)}} \\
    	{\sim\ (X} & {A_1\tensor Y} && {A_1\tensor Y\tensor Y} && {A_1\tensor Y\tensor B\tensor Z)}
    	\arrow["{f_1}", from=2-1, to=2-2]
    	\arrow["{A_1\tensor\Delta_Y}", from=2-2, to=2-4]
    	\arrow["{A_1Y\tensor g}", from=2-4, to=2-6]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXHNpbVxcIFtYIl0sWzEsMCwiQV8xXFx0ZW5zb3IgWSJdLFszLDAsIkFfMVxcdGVuc29yIFlcXHRlbnNvciBZIl0sWzUsMCwiQV8xXFx0ZW5zb3IgWVxcdGVuc29yIEJcXHRlbnNvciBaIl0sWzAsMSwiZl8xIl0sWzEsMiwiQV8xXFx0ZW5zb3JcXERlbHRhX1kiXSxbMiwzLCJBXzFZXFx0ZW5zb3IgZyJdXQ==
    \[\begin{tikzcd}
    	{\sim\ (X} & {A_1\tensor Y} && {A_1\tensor Y\tensor Y} && {A_1\tensor Y\tensor B\tensor Z}
    	\arrow["{f_1}", from=1-1, to=1-2]
    	\arrow["{A_1\tensor\Delta_Y}", from=1-2, to=1-4]
    	\arrow["{A_1Y\tensor g}", from=1-4, to=1-6]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwXSxbNCwwLCJBXzJcXHRlbnNvciBZXFx0ZW5zb3IgQlxcdGVuc29yIFpdIl0sWzUsMCwiXFx0ZXh0eyhieSBwcm9wIDQuMi4zLCBwcm9wIDQuMi43KX0iXSxbMiwwXSxbMywxLCJrXFx0ZW5zb3IgQloiXV0=
    \[\begin{tikzcd}
    	{} && {} && {A_2\tensor Y\tensor B\tensor Z)} & {\text{(by prop \arabic{section}.2.3, prop \arabic{section}.2.7)}}
    	\arrow["{k\tensor BZ}", from=1-3, to=1-5]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCI9XFwgW1giXSxbMSwwLCJBXzFcXHRlbnNvciBZIl0sWzMsMCwiQV8xXFx0ZW5zb3IgWVxcdGVuc29yIFkiXSxbNSwwLCJBXzJcXHRlbnNvciBZXFx0ZW5zb3IgWSJdLFswLDEsImZfMSJdLFsxLDIsIkFfMVxcdGVuc29yXFxEZWx0YV9ZIl0sWzIsMywia1xcdGVuc29yIFkiXV0=
    \[\begin{tikzcd}
    	{=\ (X} & {A_1\tensor Y} && {A_1\tensor Y\tensor Y} && {A_2\tensor Y\tensor Y}
    	\arrow["{f_1}", from=1-1, to=1-2]
    	\arrow["{A_1\tensor\Delta_Y}", from=1-2, to=1-4]
    	\arrow["{k\tensor Y}", from=1-4, to=1-6]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwXSxbNCwwLCJBXzJcXHRlbnNvciBZXFx0ZW5zb3IgQlxcdGVuc29yIFpdIl0sWzUsMCwiXFx0ZXh0eyhieSBmdW5jdG9yaWFsaXR5IG9mICRcXHRlbnNvciQpfSJdLFsyLDBdLFszLDEsIkFfMllcXHRlbnNvciBnIl1d
    \[\begin{tikzcd}
    	{} && {} && {A_2\tensor Y\tensor B\tensor Z)} & {\text{(by functoriality of $\tensor$)}}
    	\arrow["{A_2Y\tensor g}", from=1-3, to=1-5]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNSxbMCwwLCI9XFwgW1giXSxbMSwwLCJBXzJcXHRlbnNvciBZIl0sWzMsMCwiQV8yXFx0ZW5zb3IgWVxcdGVuc29yIFkiXSxbNSwwXSxbNywwXSxbMCwxLCJmXzIiXSxbMSwyLCJBXzJcXHRlbnNvclxcRGVsdGFfWSJdXQ==
    \[\begin{tikzcd}
    	{=\ (X} & {A_2\tensor Y} && {A_2\tensor Y\tensor Y} && {} && {}
    	\arrow["{f_2}", from=1-1, to=1-2]
    	\arrow["{A_2\tensor\Delta_Y}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNCxbMCwwXSxbNCwwLCJBXzJcXHRlbnNvciBZXFx0ZW5zb3IgQlxcdGVuc29yIFpdIl0sWzUsMCwiXFx0ZXh0eyhiZWNhdXNlICRrJCBpcyBhIDItbW9ycGhpc20gZnJvbSAkKEFfMSwgZl8xKSQgdG8gJChBXzIsIGZfMikkKX0iXSxbMiwwXSxbMywxLCJBXzJZXFx0ZW5zb3IgZyJdXQ==
    \[\begin{tikzcd}
    	{} && {} && {A_2\tensor Y\tensor B\tensor Z)} & {\text{(because $k$ is a 2-morphism from $(A_1, f_1)$ to $(A_2, f_2)$)}}
    	\arrow["{A_2Y\tensor g}", from=1-3, to=1-5]
    \end{tikzcd}\]
    
    % https://q.uiver.app/?q=WzAsNixbMCwwLCJcXHNpbVxcIFtYIl0sWzEsMCwiQV8yXFx0ZW5zb3IgWSJdLFszLDAsIkFfMlxcdGVuc29yIEJcXHRlbnNvciBaXSJdLFs1LDBdLFs3LDBdLFs0LDAsIlxcdGV4dHsoYnkgcHJvcCA0LjIuNyBhbmQgNC4zLjMpfSJdLFswLDEsImZfMiJdLFsxLDIsIkFfMlxcdGVuc29yIGdfMiJdXQ==
    \[\begin{tikzcd}
    	{\sim\ (X} & {A_2\tensor Y} && {A_2\tensor B\tensor Z)} & {\text{(by prop \arabic{section}.2.7 and \arabic{section}.3.3)}} & {} && {}
    	\arrow["{f_2}", from=1-1, to=1-2]
    	\arrow["{A_2\tensor g_2}", from=1-2, to=1-4]
    \end{tikzcd}\]
    
    以上で示された。
    %(スト図書きてぇ～～～～～～～)
\end{proof}


%\paragraph{Definition \arabic{section}.\arabic{subsection}.5：\ $\Lambda(\R)$の射の合成}\ \\
\begin{definitionsub}[$\Lambda(\R)$の射の合成]
    \label{def:composition_of_Lambda(R)}
    $\bar{X},\bar{Y},\bar{Z}\in\Lambda(\R), [A,f]\in\Lambda(\R)(\bar{X},\bar{Y}), [B,g]\in\Lambda(\R)(\bar{Y},\bar{Z})$とする。
    これらの合成を$[A,f]\comp[B,g]:=[(A,f)\comp(B,g)]$で定める。
    これは\reflem{lem:composition_of_Lambda(R)_is_well-defined} よりwell-definedである。
\end{definitionsub}


%\paragraph{Definition \arabic{section}.\arabic{subsection}.6：\ $\Lambda(\R)$の恒等射}\ \\
\begin{definitionsub}[$\Lambda(\R)$の恒等射]
    \label{def:identity_of_Lambda(R)}
    各$\bar{X}\in\Lambda(\R)$に対し、$id_{\bar{X}}:=[I,\rho_X^{-1}]$と定める。
\end{definitionsub}

%\paragraph{Proposition \arabic{section}.\arabic{subsection}.7：\ $\Lambda(\R)$の結合則}\ \\
\begin{propositionsub}[$\Lambda(\R)$の結合則]
    \label{prop:associativity_of_Lambda(R)}
    上記合成は結合則を満たす。
    これは$\calLambda(\R)$で1-射の結合則が成り立っていたことから従う。
\end{propositionsub}

%\paragraph{Proposition \arabic{section}.\arabic{subsection}.8：\ $\Lambda(\R)$の単位律}\ \\
\begin{propositionsub}[$\Lambda(\R)$の単位律]
    \label{prop:unitlaw_of_Lambda(R)}
    上記合成と恒等射は単位律を満たす。
    これは$\calLambda(\R)$で1-射の単位律が成り立っていたことから従う。
\end{propositionsub}

%\paragraph{Definition \arabic{section}.\arabic{subsection}.9：\ 圏 $\Lambda(\R)$}\ \\
\begin{definitionsub}[圏 $\Lambda(\R)$]
    %definition \arabic{section}.3.1, \arabic{section}.3.2, \arabic{section}.3.5, \arabic{section}.3.6 で与えられる構造達は、
    \refdef{def:object_of_Lambda(R)}, \refdef{def:morphism_of_Lambda(R)}, 
        \refdef{def:composition_of_Lambda(R)}, \refdef{def:identity_of_Lambda(R)}
        で与えられる構造達は、
    %proposition\arabic{section}.3.7, \arabic{section}.3.8より、圏を成す。
    \refprop{prop:associativity_of_Lambda(R)}, \refprop{prop:unitlaw_of_Lambda(R)}より、圏を成す。
    この圏を$\Lambda(\R)$と書くことにする。\\
\end{definitionsub}





















\newpage
\subsection{\texorpdfstring{$\Lambda(\R)$}{Lambda(R)}のデカルト圏構造}
\label{subsection:cartesian_structure_of_Lambda(R)}
以上で定義した$\Lambda(\R)$が\CC になっていることを示す。
$\R$から引き継ぐモノイド構造がそのまま直積となる。
まずモノイド構造を引き継ぐことを示し、その後それが直積の普遍性を持つことを示す。
%the category $\Lambda(\R)$ defined in previous sections, becomes cartesian category. In this section, we will find its cartesian structure and prove that.


%\paragraph{Definition \arabic{section}.4.1：\texorpdfstring{$\Lambda(\R)$}{Lambda(R)}のモノイド構造}\ \\
\begin{definitionsub}[$\Lambda(\R)$のモノイド構造]
    \label{def:monoidal_structure_of_Lambda(R)}
    $\R$を \RC とする。
    $\Lambda(\R)$は、$\R$と同様にして\SMC となる。
    モノイド積の函手$\tensor'$と単位対象$I'$のみ明示する。
    まず$\tensor'$を次のように定める。
    \fct{\tensor'}{\Lambda(\R)\times \Lambda(\R)}{\Lambda(\R)}{(\bar{X},\bar{Y})}{([A,f], [B,g])}{(\bar{X'},\bar{Y'})}{\bar{X\tensor Y}}{[A\tensor B, f\square g]}{\bar{X'\tensor Y'}}
    ただし、$f\square g := (f\tensor g)\comp (A\tensor\gamma_{X,B}\tensor Y)$ である。
    このように定めた$\tensor'$は確かにwell-definedである。
    単位対象は $I':=I$で定める。
%整合性の同型$\alpha', \lambda', \rho'$及び捻り同型$\gamma'$を素朴な方法で定めると、$(\Lambda(\R),\tensor')$
\end{definitionsub}


%\paragraph{Proposition \arabic{section}.\arabic{subsection}.3：$\Lambda[\R]$の直積 }\ \\
\begin{propositionsub}[$\Lambda{[\R]}$の直積]
    \label{prop:product_of_Lambda(R)}
    簡単のため$\C:=\Lambda[\R]$とおく。
    $\bar{X},\bar{Y}\in\C$に対し、$(\bar{X\tensor Y}, \pi_{\bar{X}}, \pi_{\bar{Y}})$は$\bar{X}$と$\bar{Y}$の直積である。
    ただし、$\bar{Y}$への射影$\pi_{\bar{Y}}:\bar{X\tensor Y}\to \bar{Y}$は、$\pi_{\bar{Y}}:=[X,id_{X\tensor Y}]$で定める。
    $\bar{X}$への射影$\pi_{\bar{X}}:\bar{X\tensor Y}\to \bar{X}$は、$\pi_{\bar{X}}:=[Y,\gamma_{X,Y}]$で定める。
\end{propositionsub}

\begin{proof}
    $\bar{Z}\in\C$を任意に取る。
    対応
    $\phi:\C(\bar{Z},\bar{X\tensor Y})\to \C(\bar{Z},\bar{X})\times\C(\bar{Z},\bar{Y})$を
    $\phi([C,h]):=([C,h]\comp\pi_{\bar{X}}, [C,h]\comp\pi_{\bar{Y}})$で定める。
    $\phi$が全単射であることを示す。
    %TODO:自然性の証明

    次の３つのことをすればよい。\\
    (i)\ $\phi$の逆対応$\psi$を構成する。\\
    (ii)\ $\psi\comp\phi=id$であることを示す。\\
    (iii)\ $\phi\comp\psi=id$であることを示す。\\
    
    \noindent
    (i)\ $\phi$の逆対応$\psi$を構成する。
    
    $[A,f]:\bar{Z}\to \bar{X}, \ [B,g]:\bar{Z}\to \bar{Y}$を任意に取る。
    $\R$の射 $f\boxdot g:Z\to A\tensor B \tensor X\tensor Y$を$f\boxdot g :=\Delta_{Z}\comp (f\square g)$で定める。
    即ち$f\boxdot g$は次の列の合成である：
    \[
    Z\to Z\tensor Z\to(A\tensor X)\tensor(B\tensor Y)\to(A\tensor B)\tensor(X\tensor Y)
    \]
    %$\underline{Z}\to\underline{Z}\tensor\underline{Z}\to(A\tensor\underline{X})\tensor(B\tensor\underline{Y})\to(A\tensor B)\tensor(\underline{X}\tensor\underline{Y})$
    $\psi([A,f],[B,g]):=[A\tensor B, f\boxdot g]$とする。
    $\psi$のwell-defined性を示す。次の２つを示せばよい：\\
    (a)\ 任意の$(A_1,f_1),(A_2,f_2):\bar{Z}\to \bar{X}, (B,g):\bar{Z}\to \bar{Y} \rmin \calLambda(\R)$と$k:(A_1,f_1)\to(A_2,f_2)$に対し、$(A_1\tensor B, f_1\boxdot g)\sim (A_2\tensor B, f_2\boxdot g)$である。\\
    (b)\ 任意の$(A,f):\bar{Z}\to \bar{X}, (B_1,g_1),(B_2,g_2):\bar{Z}\to \bar{Y} \rmin \calLambda(\R)$と$l:(B_1,g_1)\to(B_2,g_2)$に対し、$(A\tensor B_1, f\boxdot g_1)\sim (A\tensor B_2, f\boxdot g_2)$である。
    
    両者の証明は同様なので(a)のみ示す。
    $k\tensor BXY:(A_1\tensor B, f_1\boxdot g)\to (A_2\tensor B, f_2\boxdot g)$は次の図式を可換にするから、確かに$(A_1\tensor B, f_1\boxdot g)$から$(A_2\tensor B, f_2\boxdot g)$への2-射である。
    % https://q.uiver.app/?q=WzAsNSxbMiwwLCJBXzFcXHRlbnNvciBCXFx0ZW5zb3IgWFxcdGVuc29yIFkiXSxbMCwxLCJaIl0sWzIsMiwiQV8yXFx0ZW5zb3IgQlxcdGVuc29yIFhcXHRlbnNvciBZIl0sWzQsMCwiQV8xXFx0ZW5zb3IgQlxcdGVuc29yIFhcXHRlbnNvciBZXFx0ZW5zb3IgWFxcdGVuc29yIFkiXSxbNCwyLCJBXzFcXHRlbnNvciBCXFx0ZW5zb3IgWFxcdGVuc29yIFlcXHRlbnNvciBYXFx0ZW5zb3IgWSJdLFsxLDAsImZfMVxcYm94ZG90IGciXSxbMCwyLCJrXFx0ZW5zb3IgQlhZIl0sWzEsMiwiZl8yXFxib3hkb3QgZyIsMl0sWzAsMywiXFxEZWx0YSJdLFszLDQsImtcXHRlbnNvciBCWFlYWSJdLFsyLDQsIlxcRGVsdGEiXV0=
    \[\begin{tikzcd}
    	&& {A_1\tensor B\tensor X\tensor Y} && {A_1\tensor B\tensor X\tensor Y\tensor X\tensor Y} \\
    	Z \\
    	&& {A_2\tensor B\tensor X\tensor Y} && {A_1\tensor B\tensor X\tensor Y\tensor X\tensor Y}
    	\arrow["{f_1\boxdot g}", from=2-1, to=1-3]
    	\arrow["{k\tensor BXY}", from=1-3, to=3-3]
    	\arrow["{f_2\boxdot g}"', from=2-1, to=3-3]
    	\arrow["\Delta", from=1-3, to=1-5]
    	\arrow["{k\tensor BXYXY}", from=1-5, to=3-5]
    	\arrow["\Delta", from=3-3, to=3-5]
    \end{tikzcd}\]

    \noindent
    (ii)$\psi\comp\phi=id$であることを示す。
    $[A,f]:\bar{Z}\to \bar{X}, \ [B,g]:\bar{Z}\to \bar{Y}$を任意に取る。
    $([A\tensor B, f\boxdot g]\comp \pi_{\bar{X}},\ [A\tensor B, f\boxdot g]\comp \pi_{\bar{Y}}) = ([A,f], [B,g])$
    であることを示す。
    ２つの証明は同様なので、$([A\tensor B, f\boxdot g]\comp \pi_{\bar{Y}}) = [B,g]$
    であることのみ示す。
    \begin{align*}
        [A\tensor B, f\boxdot g]\comp \pi_{\bar{Y}} = &\ [A\tensor B\tensor X, f\boxdot g]
            \ \ (\text{$\comp$の定義より})\\
        = &\ [A\tensor B\tensor X,\Delta_Z\comp(f\tensor g) \comp(A\tensor\gamma_{X,B}\tensor Y)]
            \ \ (\text{$\boxdot$の定義より})\\
        = &\ [A\tensor X\tensor B, \Delta_Z \comp (f\tensor g)]
            \ \ (\text{\refprop{prop:trivial_2-morphism}より})\\
        = &\ [Z\tensor B, \Delta_Z \comp (Z\tensor g)]
            \ \ (\text{\refprop{prop:trivial_2-morphism}より})\\
        = &\ [B,g]
            \ \ (\text{\reflem{lem:graph_is_same_as_original}より})
    \end{align*}
    $([A\tensor B, f\boxdot g]\comp \pi_{\bar{X}}) = [A,f]$
    であることの証明も同様である。
    以上で$\psi\comp\phi=id$であることが示された。\\
    %$[C,h]:Z\to X\tensor Y$であって次の図式(*)を満たすものを構成する。\\

    \noindent
    (iii)$\phi\comp\psi=id$であることを示す。
    $[C,h]:\bar{Z}\to \bar{X\tensor Y}$を任意に取る。
    $[C,h]=\psi(\phi([C,h]))$であることを示す。

    （次頁に続く）

    \newpage
    （続き：$[C,h]=\psi(\phi([C,h]))$であることの証明）
    \begin{align*}
        &\psi(\phi([C,h]))\\
        = &\ \psi([C,h]\comp\pi_X, [C,h]\comp\pi_Y)
            \ \ (\text{$\phi$の定義より})\\
        = &\ \psi([C\tensor Y,h\comp(C\tensor\gamma_{X,Y})], [C\tensor X,h])
            \ \ (\text{$\comp$の定義より})\\
        = &\ [C\tensor Y\tensor C\tensor X, \ (h\comp(C\tensor\gamma_{X,Y}))\boxdot h]
            \ \ (\text{$\phi$の定義より})\\
        = &\ [C\tensor Y\tensor C\tensor X,\  
            \Delta_Z\comp((h\comp(C\tensor\gamma_{X,Y}))\tensor h) \comp(CY\tensor\gamma_{X,CX}\tensor Y)]
            \ \ (\text{$\boxdot$の定義より})\\
        = &\ [C\tensor Y\tensor C\tensor X,\  
            \Delta_Z\comp(h\tensor h) \comp(C\tensor\gamma_{X,Y}\tensor CXY)\comp(CY\tensor\gamma_{X,CX}\tensor Y)]
            \ \ (\text{$\tensor$の函手性より})\\
        = &\ [C\tensor Y\tensor C\tensor X,\  
            h\comp\Delta_{CXY}\comp(C\tensor\gamma_{X,Y}\tensor CXY)\comp(CY\tensor\gamma_{X,CX}\tensor Y)]
            \ \ (\text{$\Delta$の自然性より})\\
        = &\ [C\tensor Y\tensor C\tensor X,\  
            h\comp(\Delta_{C}\tensor\Delta_{XY})\comp(C\tensor\gamma_{CX,Y}\tensor XY)]
            \ \ (*)\\
        = &\ [C\tensor C\tensor X\tensor Y,\  h\comp(\Delta_C\tensor\Delta_{XY})]
            \ \ (\text{\refprop{prop:trivial_2-morphism}})\\
        = &\ [C\tensor X\tensor Y,\  h\comp(C\tensor\Delta_{XY})]
            \ \ (\text{\refprop{prop:trivial_2-morphism}})\\
        = &\ [C,\  h]
            \ \ (\text{\refprop{prop:diagonal_2-morphism} and \refprop{prop:left_whiskering}})
    \end{align*}

    上式中の$(*)$の部分は下のように示される。
    \begin{align*}
        &\ \Delta_{CXY}
        \comp(C\tensor\gamma_{X,Y}\tensor CXY)
        \comp(CY\tensor\gamma_{X,CX}\tensor Y)\\
        = &\ (\Delta_{C}\tensor\Delta_{XY})
        \comp(C\tensor\gamma_{C,XY}\tensor XY)
        \comp(C\tensor\gamma_{X,Y}\tensor CXY)
        \comp(CY\tensor\gamma_{X,CX}\tensor Y)\ \ \ 
        (\text{by monoidality of\ $\Delta$})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(CCX\tensor\gamma_{X,Y}\tensor Y)
        \comp(C\tensor\gamma_{C,XY}\tensor XY)
        \comp(C\tensor\gamma_{X,Y}\tensor CXY)
        \comp(CY\tensor\gamma_{X,CX}\tensor Y)\ \ \ 
        (\text{by monoidality of\ $\Delta$})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(CCX\tensor\gamma_{X,Y}\tensor Y)
        \comp(CC\tensor\gamma_{X,Y}\tensor XY)
        \comp(C\tensor\gamma_{C,YX}\tensor XY)
        \comp(CY\tensor\gamma_{X,CX}\tensor Y)\ \ \
        (\text{by coherence})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(CCX\tensor\gamma_{X,Y}\tensor Y)
        \comp(CC\tensor\gamma_{X,Y}\tensor XY)
        \comp(C\tensor\gamma_{C,Y}\tensor XY)
        \comp(CY\tensor\gamma_{X,X}\tensor Y)\ \ \
        (\text{by coherence})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(C\tensor\gamma_{CXX,Y}\tensor Y)
        \comp(CY\tensor\gamma_{X,X}\tensor CY)\ \ \
        (\text{by coherence})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(CC\tensor\gamma_{X,X}\tensor YY)
        \comp(C\tensor\gamma_{CXX,Y}\tensor Y)\ \ \ 
        (\text{by coherence})\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})\ \ \ \ 
        \comp(C\tensor\gamma_{CXX,Y}\tensor Y)\ \ \ 
        (\text{by commutativity of}\ \Delta_X)\\
        = &\ (\Delta_{C}\tensor\Delta_{X}\tensor\Delta_{Y})
        \comp(CCX\tensor\gamma_{X,Y}\tensor Y)
        \comp(C\tensor\gamma_{CX,Y}\tensor XY)\ \ \ 
        (\text{by coherence})\\
        = &\ (\Delta_{C}\tensor\Delta_{XY})
        \comp(C\tensor\gamma_{CX,Y}\tensor XY)]\ \ \ 
        (\text{by monoidality of}\ \Delta)
    \end{align*}
    上式中の(by coherence)と書かれた部分は六角形公理及び函手性・自然性のみから導かれる主張である。
    
    以上で示された。
\end{proof}


%\paragraph*{proposition \arabic{section}.\arabic{subsection}.4：\texorpdfstring{$\Lambda(\R)$}{Lambda(R)}の終対象}\ \\
\begin{propositionsub}[$\Lambda(\R)$の終対象]
    \label{prop:terminal_object_of_Lambda(R)}
    $\Lambda(\R)$の単位対象$I$は終対象である。
\end{propositionsub}

\begin{proof}
    任意に$\bar{X}\in\Lambda(\R)$を取り、$!_{\bar{X}}:=[X,\l_X]:\bar{X}\to I$と置く。
    任意の$[A,f]:\bar{X}\to I$に対し、次のように$[A,f]=!_{\bar{X}}$であることを示す。
    $(A,f)~(X,\l_X)$であることを示せばよい。

    $f':X\to A$を$f':=(-\tensor I)^{-1}(f\comp\l_X)$と定めると、
    \begin{align*}
        &(A,f)\\
        = \ & (A,\l_X\comp (f'\times I))\\
        \sim\ & (X, \l_X) \ (\text{\refprop{prop:trivial_2-morphism} より})
    \end{align*}
    である。以上で示された。
\end{proof}

以上より$\Lambda(\R)$は全ての有限直積を持ち、従って\CC であることが示された。
次節では$\Lambda$が関連圏からデカルト圏を得る普遍的な方法であることを示す。

\newpage



\section{構成\texorpdfstring{$\Lambda$}{Lambda}の普遍性}
前節で定義した構成$\Lambda$は、関連圏からデカルト圏を得る普遍的な方法になっている。
今節ではこの普遍性を示す。
まず、$\R$から$\Lambda(\R)$への普遍的な函手を定める。

%\paragraph{Definition \arabic{section}.1：ユニット函手 $\Eta_{\R}$}\ \\
\begin{definition}[ユニット函手 $\Eta_{\R}$]
    函手 $\Eta_{\R}:\R\to\Lambda[\R]$を次で定める。
    \fct{\Eta_{\R}}{\R}{\Lambda(\R)}{X}{f}{Y}{\bar{X}}{[I,f\comp\rho_Y]}{\bar{Y}}
    $\Eta_{\R}$は\Rf になる。
    $\Eta_{\R}$の関連函手としての構造の同型$m_{X,Y}:\Eta_\R(X)\tensor\Eta_\R(Y)\to\Eta_\R(X\tensor Y)$と
    $e:I\to\Eta_\R(I)$を次で定める。
    \begin{align*}
        m_{X,Y} &:= [I,\rho_{X\tensor Y}^{-1}]\\
        e &:= [I,\rho_I^{-1}]
    \end{align*}
\end{definition}


そして$\Lambda$は次の普遍性を満たす（煩雑な議論を避けるため、2-圏論的主張を1-圏論的主張に弱めている）。

%\paragraph{proposition \arabic{section}.2:\ universality of $\Lambda$}\ \\
\begin{proposition}[$\Lambda$の普遍性]
    $\R$を\RC とし、
    \CC \ $\C:=\Lambda[\R]$及び\Rf $\Eta_{\R}:\R \to \C$を上で定めたものとする。
    このとき、任意の\CC \ $\D$ 及び\Rf $F=(F,\mu, \epsilon):\R \to \D$に対し、
    次を満たす（強）モノイド函手 $\bar{F}:\C\to\D$が一意に存在する：
    
    $F = \Eta_{\R}\comp \bar{F}$
\end{proposition}

\begin{proof}
    $\D$をデカルト圏とする。
    ３ステップに分けて示す。\\
    (i) $\bar{F}$の構成とwell-defined性の証明\\
    (ii) $\bar{-}$が$\Eta_{\R}\comp - $の左逆であることの証明\\
    (iii) $\bar{-}$が$\Eta_{\R}\comp - $の右逆であることの証明\\

    \noindent
    (i) ($\bar{F}$の構成とwell-defined性の証明)\\
    \Rf $F=(F,\mu, \epsilon):\R \to \D$に対し
    （強）モノイド函手 $\bar{F} = (\bar{F}, \bar{\mu}, \bar{\epsilon}):\C\to\D$
    を対応させる操作$\bar{(-)}$を次で定める：
    \begin{itemize}
        \item 各$\bar{X}\in\C$に対し、$\bar{F}(\bar{X}):=F(X)$とする
        \item 各$[A,f]:\bar{X}\to \bar{Y}\ \text{in}\ \C$に対し、$\bar{F}([A,f])$を
        $\bar{F}([A,f]):=F(f)\comp\mu_{A,Y}^{-1}\comp\pi_{2, F(A),F(Y)}$とする。
    \end{itemize}
    ただし、$\mu_{A,Y}:F(A)\times F(Y) \to F(A\tensor Y)$はFのモノイド函手としての構造の同型であり、
    $\pi_{2, F(A), F(Y)}$はデカルト圏$\D$における第二射影である。
    分かりやすさのために追記する。$F(f)$は下の列の合成である：\par
    $F(X)\to F(A\tensor Y)\simeq F(A)\times F(Y)\to F(Y)$.

    $\bar{F}$のwell-defined性を示す。
    $(A,f),(B,g):\bar{X}\to \bar{Y} \rmin \calLambda(\R)$と$k:(A,f)\to (B,g)$を任意に取る。
    $\bar{F}([A,f])=\bar{F}([B,g])$を示せばよい。
    %$F$は\Rf であったから、次の図式は可換である。

    まず、次の図式は可換である。
    % https://q.uiver.app/#q=WzAsNixbMCwwLCJGKEEgXFx0ZW5zb3IgWSBcXHRlbnNvciBZKSJdLFswLDIsIkYoQVxcdGVuc29yIFkpIl0sWzIsMCwiRihBXFx0ZW5zb3IgWSlcXHRpbWVzIEYoWSkiXSxbNCwwLCJGKEEpXFx0aW1lcyBGKFkpXFx0aW1lcyBGKFkpIl0sWzQsMiwiRihBKVxcdGltZXMgRihZKSJdLFsyLDEsIkYoQSlcXHRpbWVzIEYoWVxcdGVuc29yIFkpIl0sWzEsMCwiRihBXFx0ZW5zb3IgXFxEZWx0YV9ZKSJdLFsyLDAsIlxcbXVfe0FcXHRlbnNvciBZLCBZfSIsMl0sWzMsMiwiXFxtdV97QSxZfVxcdGltZXMgRihZKSIsMl0sWzQsMywiRihBKVxcdGltZXMgXFxEZWx0YV97RihZKX0iLDJdLFs0LDEsIlxcbXVfe0EsWX0iXSxbNSwwLCJcXG11X3tBLFlcXHRlbnNvciBZfSJdLFs0LDUsIkYoQSlcXHRpbWVzIEYoXFxEZWx0YV9ZKSIsMl0sWzMsNSwiRihBKVxcdGltZXMgXFxtdV97WSxZfSJdXQ==
    \[\begin{tikzcd}
        {F(A \tensor Y \tensor Y)} && {F(A\tensor Y)\times F(Y)} && {F(A)\times F(Y)\times F(Y)} \\
        && {F(A)\times F(Y\tensor Y)} \\
        {F(A\tensor Y)} &&&& {F(A)\times F(Y)}
        \arrow["{F(A\tensor \Delta_Y)}", from=3-1, to=1-1]
        \arrow["{\mu_{A\tensor Y, Y}}"', from=1-3, to=1-1]
        \arrow["{\mu_{A,Y}\times F(Y)}"', from=1-5, to=1-3]
        \arrow["{F(A)\times \Delta_{F(Y)}}"', from=3-5, to=1-5]
        \arrow["{\mu_{A,Y}}", from=3-5, to=3-1]
        \arrow["{\mu_{A,Y\tensor Y}}", from=2-3, to=1-1]
        \arrow["{F(A)\times F(\Delta_Y)}"', from=3-5, to=2-3]
        \arrow["{F(A)\times \mu_{Y,Y}}", from=1-5, to=2-3]
    \end{tikzcd}\]
    この図式の外側の五角形が可換であることが分かる。
    すると、次の図式も可換であることが分かる。
    \[
    \adjustbox{scale=0.7, center}{
        % https://q.uiver.app/#q=WzAsMTIsWzMsMCwiRihBXFx0ZW5zb3IgWVxcdGVuc29yIFkpIl0sWzUsMCwiRihBXFx0ZW5zb3IgWSlcXHRpbWVzIEYoWSkiXSxbNywwLCJGKEEpXFx0aW1lcyBGKFkpXFx0aW1lcyBGKFkpIl0sWzIsMSwiRihBXFx0ZW5zb3IgWSkiXSxbNiwxLCJGKEEpXFx0aW1lcyBGKFkpIl0sWzAsMiwiRihYKSJdLFszLDIsIkYoQlxcdGVuc29yIFlcXHRlbnNvciBZKSJdLFs1LDIsIkYoQlxcdGVuc29yIFkpXFx0aW1lcyBGKFkpIl0sWzcsMiwiRihCKVxcdGltZXMgRihZKVxcdGltZXMgRihZKSJdLFs5LDIsIkYoWSkiXSxbMiwzLCJGKEJcXHRlbnNvciBZKSJdLFs2LDMsIkYoQilcXHRpbWVzIEYoWSkiXSxbNSwzLCJ7RihmKX0iXSxbNSwxMCwie0YoZyl9IiwyXSxbMywxMCwie0Yoayl9Il0sWzMsMCwiXFxEZWx0YSJdLFsxLDAsIlxcbXVfe0FcXHRlbnNvciBZLCBZfSIsMl0sWzEwLDYsIlxcRGVsdGEiXSxbMCw2LCJ7RihrXFx0ZW5zb3IgWSl9IiwwLHsibGFiZWxfcG9zaXRpb24iOjMwfV0sWzcsNiwiXFxzaW1lcSIsMl0sWzEsNywie0YoaylcXHRpbWVzIEYoWSl9IiwwLHsibGFiZWxfcG9zaXRpb24iOjMwfV0sWzQsMywiXFxzaW1lcSJdLFsxMSwxMCwiXFxzaW1lcSIsMl0sWzIsMSwiXFxzaW1lcSJdLFs4LDcsIlxcc2ltZXEiLDJdLFs0LDksIlxccGlfMiIsMV0sWzExLDksIlxccGlfMiIsMV0sWzQsMiwiRihBKVxcdGltZXNcXERlbHRhX3tGKFkpfSIsMix7ImxhYmVsX3Bvc2l0aW9uIjo5MH1dLFsxMSw4XSxbMiw5LCJcXHBpXzMiLDFdLFs4LDksIlxccGlfMyIsMV0sWzEsMCwiXFxzaW1lcSJdLFs0LDMsIlxcbXVfe0EsWX0iLDJdLFsyLDEsIlxcbXVfe0EsWX1cXHRpbWVzIEYoWSkiLDJdXQ==
        \begin{tikzcd}
            &&& {F(A\tensor Y\tensor Y)} && {F(A\tensor Y)\times F(Y)} && {F(A)\times F(Y)\times F(Y)} \\
            && {F(A\tensor Y)} &&&& {F(A)\times F(Y)} \\
            {F(X)} &&& {F(B\tensor Y\tensor Y)} && {F(B\tensor Y)\times F(Y)} && {F(B)\times F(Y)\times F(Y)} && {F(Y)} \\
            && {F(B\tensor Y)} &&&& {F(B)\times F(Y)}
            \arrow["{{F(f)}}", from=3-1, to=2-3]
            \arrow["{{F(g)}}"', from=3-1, to=4-3]
            \arrow["{{F(k)}}", from=2-3, to=4-3]
            \arrow["\Delta", from=2-3, to=1-4]
            \arrow["{\mu_{A\tensor Y, Y}}"', from=1-6, to=1-4]
            \arrow["\Delta", from=4-3, to=3-4]
            \arrow["{{F(k\tensor Y)}}"{pos=0.3}, from=1-4, to=3-4]
            \arrow["\simeq"', from=3-6, to=3-4]
            \arrow["{{F(k)\times F(Y)}}"{pos=0.3}, from=1-6, to=3-6]
            \arrow["\simeq", from=2-7, to=2-3]
            \arrow["\simeq"', from=4-7, to=4-3]
            \arrow["\simeq", from=1-8, to=1-6]
            \arrow["\simeq"', from=3-8, to=3-6]
            \arrow["{\pi_2}"{description}, from=2-7, to=3-10]
            \arrow["{\pi_2}"{description}, from=4-7, to=3-10]
            \arrow["{F(A)\times\Delta_{F(Y)}}"'{pos=0.6}, from=2-7, to=1-8]
            \arrow[from=4-7, to=3-8]
            \arrow["{\pi_3}"{description}, from=1-8, to=3-10]
            \arrow["{\pi_3}"{description}, from=3-8, to=3-10]
            \arrow["\simeq", from=1-6, to=1-4]
            \arrow["{\mu_{A,Y}}"', from=2-7, to=2-3]
            \arrow["{\mu_{A,Y}\times F(Y)}"', from=1-8, to=1-6]
        \end{tikzcd}
    }
    \]
    この図式の手前上辺と手前下辺は等しいことが分かるので、$\bar{F}([A,f])=\bar{F}([B,g])$である。
    これで函手$\bar{F}$のwell-defined性が示された。

    また$\bar{F}$のモノイド函手としての構造の同型
    $\bar{\mu}_{\bar{F}(\bar{X}),\bar{F}(\bar{Y})}:\bar{F}(\bar{X})\times\bar{F}(\bar{Y})\to \bar{F}(\bar{X}\tensor\bar{Y})$と
    $\bar{\epsilon}:1\to \bar{F}(\bar{I})$を
    $\bar{\mu}_{\bar{F}(\bar{X}),\bar{F}(\bar{Y})}:=\mu_{F(X),F(Y)}$、
    $\bar{\epsilon}:=\epsilon$と定める。
    すると$(\bar{F},\bar{\mu},\bar{\epsilon})$は確かに強モノイド函手である。\\
    %ほぼ自明なので特に説明しない


    (ii)%操作 $\bar{(-)}$と $\Eta_{\R}\comp-$が互いに逆であることを示す。\\
    \Rf $F:\R\to\D$に対し、$\Eta_{\R}\comp\bar{F}=F$であることを示す。
    $\Eta_\R\comp -$も$\bar{-}$も対象上何も操作しないので、対象の対応が等しいことは直ちに分かる。
    よって射の対応だけ見ればよい。
    $f:X\to Y \rmin \R$を１つ取り固定する。
    $(\Eta_{\R}\comp\bar{F})(f)$と$F(f)$が等しいことを示す。
    \begin{align*}
        &(\Eta_{\R}\comp\bar{F})(f)\\
        =& \bar{F}(\Eta_{\R}(f))\\
        =& \bar{F}([1,f'])\\
        =& F(f')\comp\mu_{I,Y}^{-1}\comp\pi_{F(I),F(Y)}\\
        =& F(f')\comp\mu_{I,Y}^{-1}\comp(!_{F(I)}\times F(Y))\comp\rho_{F(Y)}\\
        =& F(f')\comp\mu_{I,Y}^{-1}\comp(\epsilon\times F(Y))^{-1}\comp\rho_{F(Y)}\\
        =& F(f')\comp F(\rho_Y)\comp\rho_{F(Y)}^{-1}\comp\rho_{F(Y)}\\
        =& F(f)\comp\rho_{F(Y)}^{-1}\comp\rho_{F(Y)}\\
        =& F(f)
    \end{align*}
    である（下記図式参照）。これで示された。

    % https://q.uiver.app/#q=WzAsNixbMCwwLCJGKFgpIl0sWzIsMCwiRihJXFx0ZW5zb3IgWSkiXSxbNCwwLCJGKEkpXFx0aW1lcyBGKFkpIl0sWzYsMCwiRihZKSJdLFsyLDEsIkYoWSkiXSxbNCwxLCIxXFx0aW1lcyBGKFkpIl0sWzAsMSwiRihmJykiXSxbMiwxLCJcXG11X3sxLFl9IiwyXSxbMiwzLCJcXHBpX3tGKEkpLEYoWSl9Il0sWzAsNCwiRihmKSIsMl0sWzEsNCwiRihcXHJob19ZKSIsMl0sWzUsMiwiXFxlcHNpbG9uXFx0aW1lcyBGKFkpIiwwLHsib2Zmc2V0IjotM31dLFs1LDMsIlxccmhvX3tGKFkpfSIsMl0sWzUsNCwiXFxyaG9fe0YoWSl9IiwyXSxbMiw1LCIhXFx0aW1lcyBGKFkpIl1d
    \[\begin{tikzcd}
        {F(X)} && {F(I\tensor Y)} && {F(I)\times F(Y)} && {F(Y)} \\
        && {F(Y)} && {1\times F(Y)}
        \arrow["{F(f')}", from=1-1, to=1-3]
        \arrow["{\mu_{1,Y}}"', from=1-5, to=1-3]
        \arrow["{\pi_{F(I),F(Y)}}", from=1-5, to=1-7]
        \arrow["{F(f)}"', from=1-1, to=2-3]
        \arrow["{F(\rho_Y)}"', from=1-3, to=2-3]
        \arrow["{\epsilon\times F(Y)}", shift left=3, from=2-5, to=1-5]
        \arrow["{\rho_{F(Y)}}"', from=2-5, to=1-7]
        \arrow["{\rho_{F(Y)}}"', from=2-5, to=2-3]
        \arrow["{!\times F(Y)}", from=1-5, to=2-5]
    \end{tikzcd}\]

    (iii) （強）モノイド函手 $G=(G,\nu, \zeta):\C\to\D$に対し、$\bar{\Eta_{\R}\comp G}=G$であることを示す。
    $\Eta_\R\comp -$も$\bar{-}$も対象上何も操作しないので、対象の対応が等しいことは直ちに分かる。
    よって射の対応だけ見ればよい。
    $\Eta_{\R}\comp G =: (\Eta_{\R}\comp G, \mu, \epsilon)$と置く。
    $\mu_{X,Y}=\nu_{\Eta(X),\Eta(Y)}\comp G(\bar{\mu}_{X,Y})$, $\epsilon = G(e)\comp\zeta$である。

    $[A,f]:\bar{X}\to \bar{Y} \rmin \C$を１つ取り固定する。$\bar{\Eta_{\R}\comp G}([A,f]) = G([A,f])$を示す。
    \begin{align*}
        &\bar{\Eta_{\R}\comp G}([A,f])\\ 
        =&\ (\Eta_{\R}\comp G)(f)\comp\mu_{X,Y}\comp\pi\\
        =&\ (\Eta_{\R}\comp G)(f)\comp\nu_{\Eta(X),\Eta(Y)}\comp G(\bar{\mu}_{X,Y})\comp\pi\\
    \end{align*}



    $\bar{\Eta_{\R}\comp G}([A,f])$は次の合成に等しい：\\
    %$(\Eta_{\R}\comp G)(\underline{X})\to (\Eta_{\R}\comp G)(A\tensor\underline{Y})\simeq (\Eta_{\R}\comp G)(A)\times (\Eta_{\R}\comp G)(\underline{Y})\to (\Eta_{\R}\comp G)(\underline{Y})$.
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCIoXFxFdGFfe1xcTX1cXGNvbXAgRykoWCkiXSxbMiwwLCIoXFxFdGFfe1xcTX1cXGNvbXAgRykoQVxcdGVuc29yIFkpIl0sWzQsMCwiKFxcRXRhX3tcXE19XFxjb21wIEcpKEEpXFx0aW1lcyhcXEV0YV97XFxNfVxcY29tcCBHKShZKSJdLFs2LDAsIihcXEV0YV97XFxNfVxcY29tcCBHKShZKSJdLFswLDEsIihcXEV0YV97XFxNfVxcY29tcCBHKShmKSJdLFsxLDIsIlxcc2ltZXEiXSxbMiwzLCJcXHBpIl1d
    \[\begin{tikzcd}
        {(\Eta_{\R}\comp G)(X)} && {(\Eta_{\R}\comp G)(A\tensor Y)} && {(\Eta_{\R}\comp G)(A)\times(\Eta_{\R}\comp G)(Y)} && {(\Eta_{\R}\comp G)(Y).}
        \arrow["{(\Eta_{\R}\comp G)(f)}", from=1-1, to=1-3]
        \arrow["\simeq", from=1-3, to=1-5]
        \arrow["\pi", from=1-5, to=1-7]
    \end{tikzcd}\]
    整理すればこれは
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJHKFgpIl0sWzIsMCwiRyhBXFx0ZW5zb3IgWSkiXSxbNCwwLCJHKEEpXFx0aW1lcyBHKFkpIl0sWzYsMCwiRyhZKSJdLFswLDEsIkcoWzEsZiddKSJdLFsxLDIsIlxcc2ltZXEiXSxbMiwzLCJcXHBpIl1d
    \[\begin{tikzcd}
        {G(X)} && {G(A\tensor Y)} && {G(A)\times G(Y)} && {G(Y)}
        \arrow["{G([1,f'])}", from=1-1, to=1-3]
        \arrow["\simeq", from=1-3, to=1-5]
        \arrow["\pi", from=1-5, to=1-7]
    \end{tikzcd}\]
    に等しい。$G$はcartesianだったのでこれは
    % https://q.uiver.app/?q=WzAsMyxbMCwwLCJHKFgpIl0sWzIsMCwiRyhBXFx0ZW5zb3IgWSkiXSxbNCwwLCJHKFkpIl0sWzAsMSwiRyhbMSxmJ10pIl0sWzEsMiwiRyhcXHBpKSJdXQ==
    \[\begin{tikzcd}
        {G(X)} && {G(A\tensor Y)} && {G(Y)}
        \arrow["{G([1,f'])}", from=1-1, to=1-3]
        \arrow["{G(\pi)}", from=1-3, to=1-5]
    \end{tikzcd}\]
    に等しい。これが$G([A,f])$に等しいことを示すためには、$[A,f]$が次と等しいことを言えばよい：\\
    % https://q.uiver.app/?q=WzAsMyxbMCwwLCJYIl0sWzIsMCwiQVxcdGVuc29yIFkiXSxbNCwwLCJZIl0sWzAsMSwiWzEsZiddIl0sWzEsMiwiXFxwaSJdXQ==
    \[\begin{tikzcd}
        X && {A\tensor Y} && Y.
        \arrow["{[1,f']}", from=1-1, to=1-3]
        \arrow["\pi", from=1-3, to=1-5]
    \end{tikzcd}\]
    これは $\Lambda(\R)$における射影の定義を見れば直ちに分かる。
\end{proof}


\newpage




\section{モノ射の成す関連圏からの復元}
構成$\Lambda$を考えたもともとの動機は、\CC $\C$に対し、$\Lambda[\C^{\mono}]\simeq \C$であろう、という直感であった。
本節ではこれを示す。
より一般に、\CC $\C$に対し、$\C$の「よい関連部分圏」に対し$\Lambda[\R]\simeq \C$となることの証明を与える。
まずは「よい関連部分圏」を定義する。よい関連部分圏とは、全てのグラフを持つような関連部分圏のことである。

\begin{definition}[よい関連部分圏]
    $\C$を\CC とする。
    $\C$の部分圏$\R$が\textbf{よい関連部分圏}であるとは、
        $\R$が$\C$の全ての対象を持ち、
        $\C$の任意の射$f:X\to Y$に対し、$f$のグラフ$(id_X,f):X\to X\times Y$が$\R$に属することをいう。
\end{definition}

%\paragraph{thm 6.1.1 :  $\Lambda[\R]\simeq \C$ }\ \par
\begin{theorem}[{$\Lambda[\R]\simeq \C$}]
    \label{thm:よい関連部分圏からの復元}
    $\C$を\CC とし、$\R$を$\C$のよい関連部分圏とする。
    このとき、$\Lambda[\R]\simeq \C$である。
    包含函手$i:\R\to\C$から$\Lambda$の普遍性により誘導される函手$\bar{i}:\Lambda[\R]\to\C$は圏同型である。    
\end{theorem}

\begin{proof}
    \newcommand{\cL}{\Lambda}
    簡単のため、$\cL:=\Lambda[\R]$と置く。
    誘導される函手$\bar{i}$が対象上全単射であることは、$i$がそうであることと$\bar{i}$の定義から明らか。\
    よって$\bar{i}$が忠実充満であることを示せばよい。

    $X,Y\in\C$を取る。
    $(\bar{i})_{X,Y}:\cL(X,Y)\to\C(X,Y)$が全単射であることを示す。
    ３ステップに分けて示す。\\
    (i) 逆写像となるべき写像$\psi:\C(X,Y)\to\cL(X,Y)$を構成する。\\
    (ii) $\psi\comp(\bar{i})_{X,Y} = id$であることを示す。\\
    (iii) $(\bar{i})_{X,Y} \comp\psi = id$であることを示す。\\

    (i) 逆写像となるべき写像$\psi:\C(X,Y)\to\cL(X,Y)$を構成する。
    $\psi(f):=[X, (id_X,f)]$と置く。これが逆であることを示す。\\
    
    (ii) $\psi\comp(\bar{i})_{X,Y} = id$であることを示す。
    $f:X\to Y \ \mathrm{in}\ \C$を取り固定する。
    $(\bar{i})_{X,Y}(\psi(f)) = f \ \rmin \C$であることを示す。
    \begin{align*}
      & (\bar{i})_{X,Y}(\psi(f))\\
    =\ & (\bar{i})_{X,Y}([X, (id_X,f)])\\
    =\ & (id_X, f)\comp \pi_Y\\
    =\ & f\\
    \end{align*}
    以上で示された。
    
    (iii) $(\bar{i})_{X,Y} \comp\psi = id$であることを示す。
    $[A,f]:X\to Y \ \mathrm{in}\ \cL$を取り固定する。
    $\psi(\bar{i}_{X,Y}([A,f])) = [A,f] \ \rmin \cL$であることを示す。
    
    \begin{align*}
      & \psi((\bar{i})_{X,Y}([A,f]))\\
    =\ & \psi(f\comp \pi_Y)\\
    =\ & [X, (id_X, f\comp \pi_Y)]\\
    =\ & [X\times A, (id_X, f\comp \pi_Y)\comp((id_X, f\comp\pi_A)\times Y)]
        \ \ \text{(\refprop{prop:trivial_2-morphism}より)}\\
    =\ & [X\times A, (id_X, f\comp \pi_Y, f\comp\pi_A)]\\
    =\ & [X\times A, (id_X, f)]\\
    =\ & [X\times A, \Delta_X \comp(X\times f)]\\
    =\ & [A,f]
        \ \ \text{(\reflem{lem:graph_is_same_as_original}より)}
    \end{align*}
    以上で示された。
\end{proof}

このように、デカルト圏$\C$の全てのグラフを持つ$\C$の関連部分圏$\R$は、必ず$\Lambda[\R]\simeq \C$となる。
冒頭で述べた$\Lambda[\C^{\mono}]\simeq \C$であることは、ここから直ちに従う。
%\paragraph{cor 6.1.2 :  $\Lambda[\C^{\mono}]\simeq \C$ }\ \par
\begin{corollary}[{$\Lambda[\C^{\mono}]\simeq \C$}]
    $\C$を\CC とする。\\
    このとき、包含函手$i_{\C}:\C^{\mono}\to\C$から、$\Lambda$の普遍性によりのびる函手$\bar{i_{\C}}:\Lambda[\C^{\mono}]\to\C$は圏同型である。\\
\end{corollary}

\begin{proof}
    $\C^{\mono}$は$\C$のよい関連部分圏であることから従う。
\end{proof}

この他にも、よい関連部分圏の例として、\S 2節で述べた分裂モノ射の成す関連部分圏や、多様体と埋め込みの成す関連圏などが挙げられる。
これらの例についても、\refthm{thm:よい関連部分圏からの復元}の系として、操作Λを施せば元の圏が復元できることが分かる。

\section{まとめと今後の課題}

・本論文では、2-圏論的議論を避けるためにstrictな議論を用いた。
    しかし、本論文の主張は本来2-圏的なものであるべきである。
    本論文の主張を2-圏論的に書き直すことは今後の課題である。

・関連圏の「複製」構造は、前述のとおり"lax-universality"とでも呼ぶべきものである。
    この"lax-universality"の概念は比較的容易に一般化できる。
    既によく知られる"weak-universality"よりは強い概念であり、一般的に言えることが見つかる可能性がある。
    真のuniversalityでなくとも十分豊かな性質を示すことは関連圏の姿から窺い知ることができるため、
    様々な普遍性についてそのlax版を調べてみることは有益であることが示唆される。


\section{謝辞}


\section{Reference}

%[Pet02] Petrić, Z. Coherence in Substructural Categories. Studia Logica 70, 271–296 (2002). https://doi.org/10.1023/A:1015186718090\\

%[HT12]"Monoidal indeterminates and categories of possible worlds"
%\url{https://www.sciencedirect.com/science/article/pii/S0304397512000163}\\



%[Lambek-Scott] Higher-Order Categorical Logic\\

%[Jacobs] Categorical Logic and Type Theory\\


\bibliography{Bibliography_Master_Thesis.bib} %hoge.bibの名前
\bibliographystyle{amsalpha} %参考文献出力スタイル(ここではamsalphaを使用)


%\section{Appendix A: proofs of details}






\end{document}
